if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cH,cQ,dZ){function a6(d9){if(typeof d9!=="function"){return}var e=false;function d8(){if(!e){e=true;d9();if(typeof cQ.removeEventListener==="function"){cQ.removeEventListener("DOMContentLoaded",d8)}}}if(cQ.readyState==="interactive"||cQ.readyState==="complete"){d8()}else{cz(cQ,"DOMContentLoaded",d8)}}var df=function(){var e=cH.maCookiePrefix;return typeof e==="string"?e:"roistat"};var P=df();var by=function(){return cH[P+"Host"]};var aP=false,c2="403",bA=13,dr=42,b6=by(),bq="0.2",d="1.0",d1="roistat_visit_cookie_expire",aZ="roistat_visit",ak="roistat_cookies_to_resave",bY="roistat_guid",Q="roistat_next_guid",b0="roistat_first_visit",d6="roistat_is_need_listen_requests",v="roistat_is_save_data_in_cookie",d3="roistat_is_need_disable_collector",b1="roistat_phone",cS="roistat_raw_phone",I="roistat_externalCountersEnabled",ae="roistat_referrer",bk="roistat_marker",dV="roistat_marker_old",bp="roistat_ab",H="roistat_previous_ab",dJ="roistat_ab_submit",at=35*24*60*60,bw="rs",bj="roistat",cw="leadhunter_expire",c8=5*60*60,cm="roistat_leadHunterEnabled",bl="roistat_leadHunterTargetPagesMap",bL="roistat_leadHunterCallbackSettings",bC="roistat_leadHunterScriptId",aB="roistat_isleadHunterScriptIdActive",bS="roistat_multiwidgetEnabled",o="roistat_multiwidgetVKEnabled",x="roistat_multiwidgetVKLink",X="roistat_multiwidgetFBEnabled",cU="roistat_multiwidgetFBLink",bd="roistat_multiwidgetTelegramEnabled",dO="roistat_multiwidgetTelegramLink",cl="roistat_multiwidgetWhatsAppEnabled",aY="roistat_multiwidgetWhatsAppLink",a="roistat_multiwidgetViberEnabled",b5="roistat_multiwidgetViberLink",cX="roistat_multiwidgetSettings",bH="roistat_onlineChatEnabled",aX="roistat_onlineChatSettings",bs=7*24*60*60,N={expires:bs,path:"/"},cF="roistat-promo",dP="roistat-phone",dc="roistat-phone-country",bZ="roistat-phone-region",w="roistat-phone-number",a5="roistat-phone-tel",dx="country",dE="region",bG="number",dd="tel",b7="get-phone",ai="roistat_call_tracking",b9="roistat-js-script",cc="roistat_phone_replacement",a3="roistat_phone_script_data",T="roistat-visit-id",f="roistat_metrika_counter_id",a4="roistat_marker_from_referrer",u="roistat_emailtracking_email",cT="roistat_emailtracking_tracking_email",bx="roistat_emailtracking_emails",cI="roistat_geo_data",bE="roistat_promo_code",bm="roistat_links_markup",dD="roistat_proxy_forms",dC="roistat_isMultiDomain",cn=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cj="roistat_debug",dl="roistat_settings_saved",ao="nocookie",ci=["yandex.ru"],d4="beta_test",r="roistat_settings_version",c7="roistat-leadhunter-form-template",bF="roistat-leadhunter-pulsator-template",ce="roistat-leadhunter-pulsator-settings",m="roistat-online-chat-pulsator-template",bh="roistat-online-chat-iframe-template",g="roistat-multiwidget-pulsator-template",J="roistat-multiwidget-pulsator-settings",ch="roistat_last_settings_update_time",dR="roistat_authorized_client",cP="roistat_params",cd=50,ag="mobile",ay="tablet",aV="desktop",dY=500,ac=1024,dQ="roistat"==="ma";
var a1="ru",di="en",aS={ru:["Русский","Russian"],en:["Английский","English"]},ds,a7;var K={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var L={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var dw={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cH.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cH.roistatAlreadyStarted=true;if(cH.roistatCookieDomain){N.domain=cH.roistatCookieDomain}var cE=function(){return new Date().getTime()};var bT=function(d8){if(!aP||typeof console==="undefined"||typeof console.log!=="function"){return}var d9=cE()-cC;var e="["+(d9/1000)+"s] "+d8;t=t+"; "+e;console.log(e)};var k=function(e){var d9=e.split(".");var d8=d9.length;if(d8<2){return e}return d9[d8-2]+"."+d9[d8-1]};var av=function(){var d8=cH.screen||null;var e=cH.navigator||null;return{screenWidth:d8!==null?(d8.width||null):null,screenHeight:d8!==null?(d8.height||null):null,screenIsExtended:d8!==null?(d8.isExtended||null):null,screenPixelDepth:d8!==null?(d8.pixelDepth||null):null,screenColorDepth:d8!==null?(d8.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var aG="cllctr."+k(b6);cH.roistat={version:c2,getSource:function(){return L.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){L.visitFromUser=e},registerOnVisitProcessedCallback:function(e){am(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){c4(e)},disableCallTracking:function(){K.callTrackingEnabled=false},setCallTrackingManualMode:function(){K.callTrackingManual=true},setJSONPRequestTimeout:function(e){K.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){bT("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},linksMarkup:{ozonId:null,wildberriesId:null},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,d8){if(!L.isAbTestsApplied&&typeof d8==="function"){dw.onAbTestsApplied[e]=d8}},authClientById:function(e){y(e,dZ)},authClientByEmail:function(e){y(dZ,e)},sendDeviceFingerprint:function(){bT("Send device fingerprint start");var e=dm();var d9=av();var ec="";for(var eb in d9){if(!d9.hasOwnProperty(eb)){continue}var ea=d9[eb];if(ea!==null){ec+="&"+eb+"="+encodeURIComponent(ea)}}var d8=bW()+"/device/info/register?visit="+e+ec;da(d8);bT("Send device fingerprint completed")},setDeviceParams:function(){if(!L.isVisitProcessed){bT("Visit is not processed, return");return}var e=dm();if(e<=0){bT("Invalid arguments, return");return}var d9=av();var d8=bW()+"/update-visit-by-device-params?visit="+e+"&v="+c2;for(var eb in d9){if(!d9.hasOwnProperty(eb)){continue}var ea=d9[eb];if(ea===null){continue}d8+="&"+eb+"="+encodeURIComponent(ea)}da(d8)},setRoistatParams:function(ee,ed,eb,ea,d9){var ef=ee!==null&&q(ee)?ee:{roistat_param1:ee,roistat_param2:ed,roistat_param3:eb,roistat_param4:ea,roistat_param5:d9};if(!L.isVisitProcessed){bT("Visit is not processed, return");return}var ec=dm();if(ec<=0){bT("Invalid arguments, return");return}var eg=dF(ef);if(!B(eg)){bT("Has no valid roistat params for visit update, return");return}O(eg);var e=bW()+"/update-visit-by-params?visit="+ec+"&v="+c2;for(var d8 in eg){if(!Object.prototype.hasOwnProperty.call(eg,d8)){continue}e+="&"+d8+"="+encodeURIComponent(eg[d8])}da(e)}};var dF=function(ea){var e={};for(var d9=1;d9<=cd;d9++){var d8="roistat_param"+d9;if(!Object.prototype.hasOwnProperty.call(ea,d8)){continue}var eb=ea[d8];if(eb!==dZ&&eb!==null&&eb.toString().length>0){e[d8]=eb
}}return e};var O=function(d9){var eb=cP;var d8=aW.get(eb);var e=JSON.stringify(d9);var ea=d8===e;if(e!=null&&e.length>0){c5(d9)}if(ea){bT("Params already updated, return");return}aW.set(eb,e)};var c5=function(d8){for(var e=1;e<=cd;e++){var d9="roistat_param"+e;if(d8.hasOwnProperty(d9)){cH.roistat.page.params[d9]=d8[d9]}}};var y=function(e,ea){if(!L.isVisitProcessed){bT("Visit is not processed, return");return}var eb=e!==dZ&&e.length>0,ee=ea!==dZ&&ea.length>0;if(!eb&&!ee){bT("Invalid client params, return");return}var ec=dm();if(ec<=0){bT("Invalid arguments, return");return}var ed=dR,ef=aW.get(ed),d9=eb?e:ea;if(ef===d9){bT('Client "'+d9+'" is already authorized, return');return}bT("Auth client: "+d9);aW.set(ed,d9);var d8=bW()+"/update-visit-by-client?visit="+ec+"&v="+c2;if(eb){d8+="&client_id="+encodeURIComponent(e)}if(ee){d8+="&client_email="+encodeURIComponent(ea)}da(d8)};var b3=function(ea,d8){var d9=ea.length;for(var e=0;e<d9;e++){if(d8===ea[e]){return true}}return false};var ca=function(){return cG(d4)>0};var h=function(){return cH.location.protocol+"//"+cH.location.host+cH.location.pathname};var bK=function(){if(c9()){return ag}if(cu()){return ay}return aV};var c9=function(){return cH.innerWidth<=dY};var cu=function(){return cH.innerWidth>dY&&cH.innerWidth<=ac};var aL=function(){return c9()||cu()};var dv=function(){return cH[P+"ProjectId"]};var dS=function(){var e=dv().replace(/\D/g,"");bT("getProjectHash: "+e);return e};var ah=function(e){var d8=dS();return b3(e,d8)};var cB=function(e){return JSON.parse(JSON.stringify(e))};var bb=function(){var d8=cB(N),e=parseInt(aW.get(d1));d8.expires=e>0?e:bs;return d8};var am=function(e){if(!L.isVisitProcessed){dw.onVisitProcessed.push(e)}else{e()}};var d5=function(){L.isVisitProcessed=true;bT("[Roistat] visit id set. Processing callbacks");var d8=dw.onVisitProcessed.length;for(var e=0;e<d8;e++){dw.onVisitProcessed[e]()}if(cH.roistatVisitCallback!==dZ){cH.roistatVisitCallback(cH.roistat.getVisit())}};var c4=function(e){dw.onCallTrackingPhoneReceived.push(e)};var co=function(){var d8=dw.onCallTrackingPhoneReceived.length;for(var e=0;e<d8;e++){dw.onCallTrackingPhoneReceived[e]()}};var db=function db(e){dw.onSPAPageChanged.push(e)};var cW=function cW(){bT("[Roistat] SPA page changed. Processing callbacks");var d8=dw.onSPAPageChanged.length;for(var e=0;e<d8;e++){dw.onSPAPageChanged[e]()}};var dB=function(eb,ea){var d9=eb.className.split(" "),d8=false,e;for(var e=0;e<d9.length;e++){if(d9[e]===ea){d8=true;break}}if(!d8){d9.push(ea);eb.className=d9.join(" ")}};var dK=function(ea,d9){var d8=ea.className.split(" "),e;for(var e=0;e<d8.length;e++){if(d8[e]===d9){d8.splice(e,1);ea.className=d8.join(" ");break}}};var bP=function(d9){try{return decodeURIComponent(d9)}catch(ea){var d8;d8=aK(d9);if(d8===null){return d9}return d8}};var E={visitor_uid:function(){bT("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!q(cH.AMOPIXEL_IDENTIFIER)||!aM(cH.AMOPIXEL_IDENTIFIER.getVisitorUid)){bT("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!cL(e)){bT("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return ct("yclid",false)},roistat_gclid:function(){return ct("gclid",false)},roistat_rb_clickid:function(){return ct("rb_clickid",false)}};var cf=function(){for(var d8 in E){var e=E[d8]();if(e===null){continue}a0(d8,e,N)}};var b8=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(bf(E))};var aK=function(ec){var eb={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var d9="";var ea=0;while(ea<ec.length){var d8=ec.substring(ea,ea+3);if(Object.prototype.hasOwnProperty.call(eb,d8)){d9+=eb[d8];ea+=3}else{d9+=ec.substring(ea,ea+1);ea++}}try{return decodeURIComponent(d9)}catch(ed){return null}};var bQ=function(){if(typeof cH.roistatInitPage!=="string"||cH.roistatInitPage===""||cH.roistatInitPage==="{ROISTAT_INIT_PAGE}"){return cQ.location.href}return cH.roistatInitPage};cH.roistatVersion=c2;var dX,an=ah([]),p=ah(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827","565074965442390546245"]),cs=ah(["756305455392462179","5920396192098309402868"]),b=ah(["3640376563070976595","5920396192098309402868"]),bc=ah(["756305455392462179","5920396192098309402868","385366725288649150721","79444741580829891656","1455160669611096564","87201407176252054537","320784366854304269447164","103117829258234904011224","88379437095231071533980","2410177561830112858698491","6449917708769557613003"]),aN,au=true,l=decodeURIComponent(bQ()),t="",cq="",cC=new Date().getTime(),du=false,c=cH.roistatPhonePrefix?cH.roistatPhonePrefix:"",aH=cH.roistatPhonePrefixBind?cH.roistatPhonePrefixBind:"",cx=cH.roistatCalltrackingScripts&&cH.roistatCalltrackingScripts.join?cH.roistatCalltrackingScripts.join(","):"";
var i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var dG=typeof cQ.hidden==="boolean"&&typeof cQ.visibilityState==="string"&&typeof cQ.addEventListener==="function";var a2=function(d8){if(!bc){return}try{bg("visit init - "+d8+": pageVisitId: "+i+", date: "+new Date().toISOString()+", marker: "+dX+", visit: "+dm()+", visit cookie: "+cG(aZ)+", visit ls: "+cH.localStorage.getItem(dk(aZ))+", first visit: "+bX()+", url: "+cH.location.href+", initUrl: "+l+", document.referrer: "+cQ.referrer+", local referrer: "+aN+", isInit: "+cH.roistatIsInitVisit+", userAgent: "+cH.navigator.userAgent)}catch(d9){}};var dk=function(e){if(!p){return e}var d8=e.replace(/^roistat[_-]/,"");return P+"_"+d8};var z=function(e){if(!dQ){return e}var d9=e.indexOf("#"),eb="",d8=e;if(d9!==-1){eb=e.substring(d9);d8=e.substring(0,d9)}var ea=d8.indexOf("?")!==-1?"&":"?";return d8+ea+"ma=1"+eb};var cG,a0,b4,dT;cG=cH.roistatGetCookie=function(e){var d8=dk(e);var d9=cQ.cookie.match(new RegExp("(?:^|; )"+d8.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return d9?bP(d9[1]):dZ};b4=function(e,ee,ef){var ec=dk(e);ef=ef||{};var ea=ef.expires;if(typeof ea=="number"&&ea){var ed=new Date();ed.setTime(ed.getTime()+ea*1000);ea=ef.expires=ed}if(ea&&ea.toUTCString){ef.expires=ea.toUTCString()}ee=encodeURIComponent(ee);var d8=ec+"="+ee;for(var eb in ef){d8+="; "+eb;var d9=ef[eb];if(d9!==true){d8+="="+d9}}cQ.cookie=d8};var W=1024;a0=cH.roistatSetCookie=function a0(d8,eb,e){if(String(eb).length>W){return}b4(d8,eb,e);var ea;ea=cG(ak);ea=cL(ea)?ea.split(","):[];for(var d9 in ea){if(ea[d9]===d8){return}}ea.push(d8);b4(ak,ea.join(","),{path:"/"})};dT=function dT(d8,e){var d9=cB(e);d9.expires=new Date(0).toUTCString();b4(d8,"",d9)};var aQ=function(d8,ea,d9){var e=d8[ea];d8[ea]=function(){if(e){e.apply(this,arguments)}d9.apply(this,arguments)}};var cz=function(d9,d8,ea){if(d9.addEventListener){d9.addEventListener(d8,ea,false);return}var e="on"+d8;if(d9.attachEvent){d9.attachEvent(e,ea);return}if(e in d9){aQ(d9,e,ea);return}if(d8 in d9){aQ(d9,d8,ea);return}bT("Handler could not be attached")};var d7=function(ea,d9){var d8=ea.length;for(var e=0;e<d8;e++){d9(ea[e])}};var bf=function(e){var d8=[];c6(e,function(d9,ea){d8.push(d9)});return d8};var c6=function(e,d9){for(var d8 in e){if(Object.prototype.hasOwnProperty.call(e,d8)){d9(d8,e[d8])}}};var A=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var B=function(d8){if(typeof d8!=="object"){return false}for(var e in d8){if(d8.hasOwnProperty(e)){return true}}return false};var a9=function(d9){try{var d8=JSON.parse(d9);if(d8&&typeof d8==="object"){return d8}}catch(ea){}return null};if(cQ.getElementsByClassName==dZ){cQ.getElementsByClassName=function(d8){var e=[];var ec=new RegExp("\\b"+d8+"\\b");var eb=this.getElementsByTagName("*");for(var ea=0;ea<eb.length;ea++){var d9=eb[ea].className;if(ec.test(d9)){e.push(eb[ea])}}return e}}var bi=function(){return String.fromCharCode};var cZ=function(d9){var e="";for(var d8=0;d8<d9.length;++d8){e+=bi()(dr^d9.charCodeAt(d8))}return e};var dM=function(e){return encodeURIComponent(cZ(be.encode(e)))};var be={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d9){var e="";var eg,ee,ec,ef,ed,eb,ea;var d8=0;d9=be._utf8_encode(d9);while(d8<d9.length){eg=d9.charCodeAt(d8++);ee=d9.charCodeAt(d8++);ec=d9.charCodeAt(d8++);ef=eg>>2;ed=((eg&3)<<4)|(ee>>4);eb=((ee&15)<<2)|(ec>>6);ea=ec&63;if(isNaN(ee)){eb=ea=64}else{if(isNaN(ec)){ea=64}}e=e+this._keyStr.charAt(ef)+this._keyStr.charAt(ed)+this._keyStr.charAt(eb)+this._keyStr.charAt(ea)}return e},decode:function(d9){var e="";var eg,ee,ec;var ef,ed,eb,ea;var d8=0;d9=d9.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d8<d9.length){ef=this._keyStr.indexOf(d9.charAt(d8++));ed=this._keyStr.indexOf(d9.charAt(d8++));eb=this._keyStr.indexOf(d9.charAt(d8++));ea=this._keyStr.indexOf(d9.charAt(d8++));eg=(ef<<2)|(ed>>4);ee=((ed&15)<<4)|(eb>>2);ec=((eb&3)<<6)|ea;e=e+String.fromCharCode(eg);if(eb!=64){e=e+String.fromCharCode(ee)}if(ea!=64){e=e+String.fromCharCode(ec)}}e=be._utf8_decode(e);return e},_utf8_encode:function(d8){d8=d8.replace(/\r\n/g,"\n");var e="";for(var ea=0;ea<d8.length;ea++){var d9=d8.charCodeAt(ea);if(d9<128){e+=String.fromCharCode(d9)}else{if((d9>127)&&(d9<2048)){e+=String.fromCharCode((d9>>6)|192);e+=String.fromCharCode((d9&63)|128)}else{e+=String.fromCharCode((d9>>12)|224);e+=String.fromCharCode(((d9>>6)&63)|128);e+=String.fromCharCode((d9&63)|128)}}}return e},_utf8_decode:function(e){var d9="";var eb=0;var ec=0;var ea=0;var d8=0;while(eb<e.length){ec=e.charCodeAt(eb);if(ec<128){d9+=String.fromCharCode(ec);eb++}else{if((ec>191)&&(ec<224)){ea=e.charCodeAt(eb+1);d9+=String.fromCharCode(((ec&31)<<6)|(ea&63));eb+=2}else{ea=e.charCodeAt(eb+1);d8=e.charCodeAt(eb+2);d9+=String.fromCharCode(((ec&15)<<12)|((ea&63)<<6)|(d8&63));eb+=3}}}return d9}};var aD=aD||function(ej,d9){var eb={},ec=eb.lib={},ea=function(){},e=ec.Base={extend:function(ek){ea.prototype=this;
var el=new ea;ek&&el.mixIn(ek);el.hasOwnProperty("init")||(el.init=function(){el.$super.init.apply(this,arguments)});el.init.prototype=el;el.$super=this;return el},create:function(){var ek=this.extend();ek.init.apply(ek,arguments);return ek},init:function(){},mixIn:function(ek){for(var el in ek){ek.hasOwnProperty(el)&&(this[el]=ek[el])}ek.hasOwnProperty("toString")&&(this.toString=ek.toString)},clone:function(){return this.init.prototype.extend(this)}},d8=ec.WordArray=e.extend({init:function(ek,el){ek=this.words=ek||[];this.sigBytes=el!=d9?el:4*ek.length},toString:function(ek){return(ek||ei).stringify(this)},concat:function(ek){var en=this.words,el=ek.words,em=this.sigBytes;ek=ek.sigBytes;this.clamp();if(em%4){for(var eo=0;eo<ek;eo++){en[em+eo>>>2]|=(el[eo>>>2]>>>24-8*(eo%4)&255)<<24-8*((em+eo)%4)}}else{if(65535<el.length){for(eo=0;eo<ek;eo+=4){en[em+eo>>>2]=el[eo>>>2]}}else{en.push.apply(en,el)}}this.sigBytes+=ek;return this},clamp:function(){var ek=this.words,el=this.sigBytes;ek[el>>>2]&=4294967295<<32-8*(el%4);ek.length=ej.ceil(el/4)},clone:function(){var ek=e.clone.call(this);ek.words=this.words.slice(0);return ek},random:function(ek){for(var em=[],el=0;el<ek;el+=4){em.push(4294967296*ej.random()|0)}return new d8.init(em,ek)}}),eg=eb.enc={},ei=eg.Hex={stringify:function(ek){var el=ek.words;ek=ek.sigBytes;for(var eo=[],en=0;en<ek;en++){var em=el[en>>>2]>>>24-8*(en%4)&255;eo.push((em>>>4).toString(16));eo.push((em&15).toString(16))}return eo.join("")},parse:function(ek){for(var el=ek.length,en=[],em=0;em<el;em+=2){en[em>>>3]|=parseInt(ek.substr(em,2),16)<<24-4*(em%8)}return new d8.init(en,el/2)}},ef=eg.Latin1={stringify:function(ek){var el=ek.words;ek=ek.sigBytes;for(var en=[],em=0;em<ek;em++){en.push(String.fromCharCode(el[em>>>2]>>>24-8*(em%4)&255))}return en.join("")},parse:function(ek){for(var el=ek.length,en=[],em=0;em<el;em++){en[em>>>2]|=(ek.charCodeAt(em)&255)<<24-8*(em%4)}return new d8.init(en,el)}},eh=eg.Utf8={stringify:function(ek){try{return decodeURIComponent(escape(ef.stringify(ek)))}catch(el){throw Error("Malformed UTF-8 data")}},parse:function(ek){return ef.parse(unescape(encodeURIComponent(ek)))}},ee=ec.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new d8.init;this._nDataBytes=0},_append:function(ek){"string"==typeof ek&&(ek=eh.parse(ek));this._data.concat(ek);this._nDataBytes+=ek.sigBytes},_process:function(el){var en=this._data,eq=en.words,ep=en.sigBytes,eo=this.blockSize,ek=ep/(4*eo),ek=el?ej.ceil(ek):ej.max((ek|0)-this._minBufferSize,0);el=ek*eo;ep=ej.min(4*el,ep);if(el){for(var em=0;em<el;em+=eo){this._doProcessBlock(eq,em)}em=eq.splice(0,el);en.sigBytes-=ep}return new d8.init(em,ep)},clone:function(){var ek=e.clone.call(this);ek._data=this._data.clone();return ek},_minBufferSize:0});ec.Hasher=ee.extend({cfg:e.extend(),init:function(ek){this.cfg=this.cfg.extend(ek);this.reset()},reset:function(){ee.reset.call(this);this._doReset()},update:function(ek){this._append(ek);this._process();return this},finalize:function(ek){ek&&this._append(ek);return this._doFinalize()},blockSize:16,_createHelper:function(ek){return function(el,em){return(new ek.init(em)).finalize(el)}},_createHmacHelper:function(ek){return function(el,em){return(new ed.HMAC.init(ek,em)).finalize(el)}}});var ed=eb.algo={};return eb}(Math);(function(eh){function d9(el,em,ej,eo,ek,en,ei){el=el+(em&ej|~em&eo)+ek+ei;return(el<<en|el>>>32-en)+em}function eb(el,em,ej,eo,ek,en,ei){el=el+(em&eo|ej&~eo)+ek+ei;return(el<<en|el>>>32-en)+em}function ec(el,em,ej,eo,ek,en,ei){el=el+(em^ej^eo)+ek+ei;return(el<<en|el>>>32-en)+em}function ea(el,em,ej,eo,ek,en,ei){el=el+(ej^(em|~eo))+ek+ei;return(el<<en|el>>>32-en)+em}for(var e=aD,d8=e.lib,ee=d8.WordArray,eg=d8.Hasher,d8=e.algo,ed=[],ef=0;64>ef;ef++){ed[ef]=4294967296*eh.abs(eh.sin(ef+1))|0}d8=d8.MD5=eg.extend({_doReset:function(){this._hash=new ee.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ez,ew){for(var eE=0;16>eE;eE++){var ey=ew+eE,el=ez[ey];ez[ey]=(el<<8|el>>>24)&16711935|(el<<24|el>>>8)&4278255360}var eE=this._hash.words,ey=ez[ew+0],el=ez[ew+1],ex=ez[ew+2],eu=ez[ew+3],es=ez[ew+4],eq=ez[ew+5],eo=ez[ew+6],en=ez[ew+7],em=ez[ew+8],ek=ez[ew+9],ej=ez[ew+10],ei=ez[ew+11],ev=ez[ew+12],et=ez[ew+13],er=ez[ew+14],ep=ez[ew+15],eD=eE[0],eC=eE[1],eB=eE[2],eA=eE[3],eD=d9(eD,eC,eB,eA,ey,7,ed[0]),eA=d9(eA,eD,eC,eB,el,12,ed[1]),eB=d9(eB,eA,eD,eC,ex,17,ed[2]),eC=d9(eC,eB,eA,eD,eu,22,ed[3]),eD=d9(eD,eC,eB,eA,es,7,ed[4]),eA=d9(eA,eD,eC,eB,eq,12,ed[5]),eB=d9(eB,eA,eD,eC,eo,17,ed[6]),eC=d9(eC,eB,eA,eD,en,22,ed[7]),eD=d9(eD,eC,eB,eA,em,7,ed[8]),eA=d9(eA,eD,eC,eB,ek,12,ed[9]),eB=d9(eB,eA,eD,eC,ej,17,ed[10]),eC=d9(eC,eB,eA,eD,ei,22,ed[11]),eD=d9(eD,eC,eB,eA,ev,7,ed[12]),eA=d9(eA,eD,eC,eB,et,12,ed[13]),eB=d9(eB,eA,eD,eC,er,17,ed[14]),eC=d9(eC,eB,eA,eD,ep,22,ed[15]),eD=eb(eD,eC,eB,eA,el,5,ed[16]),eA=eb(eA,eD,eC,eB,eo,9,ed[17]),eB=eb(eB,eA,eD,eC,ei,14,ed[18]),eC=eb(eC,eB,eA,eD,ey,20,ed[19]),eD=eb(eD,eC,eB,eA,eq,5,ed[20]),eA=eb(eA,eD,eC,eB,ej,9,ed[21]),eB=eb(eB,eA,eD,eC,ep,14,ed[22]),eC=eb(eC,eB,eA,eD,es,20,ed[23]),eD=eb(eD,eC,eB,eA,ek,5,ed[24]),eA=eb(eA,eD,eC,eB,er,9,ed[25]),eB=eb(eB,eA,eD,eC,eu,14,ed[26]),eC=eb(eC,eB,eA,eD,em,20,ed[27]),eD=eb(eD,eC,eB,eA,et,5,ed[28]),eA=eb(eA,eD,eC,eB,ex,9,ed[29]),eB=eb(eB,eA,eD,eC,en,14,ed[30]),eC=eb(eC,eB,eA,eD,ev,20,ed[31]),eD=ec(eD,eC,eB,eA,eq,4,ed[32]),eA=ec(eA,eD,eC,eB,em,11,ed[33]),eB=ec(eB,eA,eD,eC,ei,16,ed[34]),eC=ec(eC,eB,eA,eD,er,23,ed[35]),eD=ec(eD,eC,eB,eA,el,4,ed[36]),eA=ec(eA,eD,eC,eB,es,11,ed[37]),eB=ec(eB,eA,eD,eC,en,16,ed[38]),eC=ec(eC,eB,eA,eD,ej,23,ed[39]),eD=ec(eD,eC,eB,eA,et,4,ed[40]),eA=ec(eA,eD,eC,eB,ey,11,ed[41]),eB=ec(eB,eA,eD,eC,eu,16,ed[42]),eC=ec(eC,eB,eA,eD,eo,23,ed[43]),eD=ec(eD,eC,eB,eA,ek,4,ed[44]),eA=ec(eA,eD,eC,eB,ev,11,ed[45]),eB=ec(eB,eA,eD,eC,ep,16,ed[46]),eC=ec(eC,eB,eA,eD,ex,23,ed[47]),eD=ea(eD,eC,eB,eA,ey,6,ed[48]),eA=ea(eA,eD,eC,eB,en,10,ed[49]),eB=ea(eB,eA,eD,eC,er,15,ed[50]),eC=ea(eC,eB,eA,eD,eq,21,ed[51]),eD=ea(eD,eC,eB,eA,ev,6,ed[52]),eA=ea(eA,eD,eC,eB,eu,10,ed[53]),eB=ea(eB,eA,eD,eC,ej,15,ed[54]),eC=ea(eC,eB,eA,eD,el,21,ed[55]),eD=ea(eD,eC,eB,eA,em,6,ed[56]),eA=ea(eA,eD,eC,eB,ep,10,ed[57]),eB=ea(eB,eA,eD,eC,eo,15,ed[58]),eC=ea(eC,eB,eA,eD,et,21,ed[59]),eD=ea(eD,eC,eB,eA,es,6,ed[60]),eA=ea(eA,eD,eC,eB,ei,10,ed[61]),eB=ea(eB,eA,eD,eC,ex,15,ed[62]),eC=ea(eC,eB,eA,eD,ek,21,ed[63]);
eE[0]=eE[0]+eD|0;eE[1]=eE[1]+eC|0;eE[2]=eE[2]+eB|0;eE[3]=eE[3]+eA|0},_doFinalize:function(){var ek=this._data,el=ek.words,ei=8*this._nDataBytes,em=8*ek.sigBytes;el[em>>>5]|=128<<24-em%32;var ej=eh.floor(ei/4294967296);el[(em+64>>>9<<4)+15]=(ej<<8|ej>>>24)&16711935|(ej<<24|ej>>>8)&4278255360;el[(em+64>>>9<<4)+14]=(ei<<8|ei>>>24)&16711935|(ei<<24|ei>>>8)&4278255360;ek.sigBytes=4*(el.length+1);this._process();ek=this._hash;el=ek.words;for(ei=0;4>ei;ei++){em=el[ei],el[ei]=(em<<8|em>>>24)&16711935|(em<<24|em>>>8)&4278255360}return ek},clone:function(){var ei=eg.clone.call(this);ei._hash=this._hash.clone();return ei}});e.MD5=eg._createHelper(d8);e.HmacMD5=eg._createHmacHelper(d8)})(Math);var af=function(){return cQ[bi()(99,111,111,107,105,101)]};var s=function(){dz();var e={c:ar()};return dM(JSON.stringify(e))};var aA=function(){var e=dm();return(e===dZ||e===null)?ao:e};var ar=function(){var e=[];for(var d8 in L.cookies){if(!Object.prototype.hasOwnProperty.call(L.cookies,d8)){continue}e.push(d8+"="+L.cookies[d8])}return e.join("; ")};var dz=function(){var e=bo();for(var d8 in e){if(!Object.prototype.hasOwnProperty.call(e,d8)){continue}L.cookies[d8]=e[d8]}};var aT=function(e){L.source.marker=e;var d8=bb();d8["max-age"]=d8.expires;a0(bk,e,d8)};var bv=function(){return cG(bk)};var a8=function(){c6(cH.roistat.page.params,function(d8,e){L.pageParams[d8]=e})};var bo=function(){var ea=af();var eb=ea.split("; ");var e={};for(var d9=0;d9<eb.length;d9++){var ee=eb[d9];if(ee===""){continue}var d8=ee.split("=");if(d8.length<2){continue}var ed=d8[0].trim();var ec=d8[1].trim();e[ed]=ec}return e};var dh=function(){return bi()(104,97,115,104)};var aU=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var dy={isAvailable:function(){var d8=false;try{if(!cH.sessionStorage||!cH.sessionStorage.setItem||!cH.sessionStorage.getItem||!cH.sessionStorage.removeItem){return d8}cH.sessionStorage.setItem("roistat_testKey","testValue");d8=cH.sessionStorage.getItem("roistat_testKey")==="testValue";cH.sessionStorage.removeItem("roistat_testKey")}catch(d9){return false}return d8},remove:function(e){if(this.isAvailable()){cH.sessionStorage.removeItem(dk(e))}},setObject:function(e,d8){if(this.isAvailable()){cH.sessionStorage.setItem(dk(e),JSON.stringify(d8))}},getObject:function(d8){var e=null;if(this.isAvailable()){e=cH.sessionStorage.getItem(dk(d8));e=JSON.parse(e)}return e},set:function(e,d8){if(this.isAvailable()){cH.sessionStorage.setItem(dk(e),d8)}},get:function(d8){var e=null;if(this.isAvailable()){e=cH.sessionStorage.getItem(dk(d8))}return e}};var aW={fallbackData:{},isAvailable:function(){var d8=false;try{if(!cH.localStorage||!cH.localStorage.setItem||!cH.localStorage.getItem||!cH.localStorage.removeItem){return d8}cH.localStorage.setItem("roistat_testKey","testValue");d8=cH.localStorage.getItem("roistat_testKey")==="testValue";cH.localStorage.removeItem("roistat_testKey")}catch(d9){return false}return d8},remove:function(d8){if(this.isAvailable()){cH.localStorage.removeItem(dk(d8))}else{var e=new Date(1970,1,1);a0(d8,"",{expires:e.toUTCString()})}delete this.fallbackData[dk(d8)]},setObject:function(e,d8){if(this.isAvailable()){localStorage.setItem(dk(e),JSON.stringify(d8))}this.fallbackData[dk(e)]=d8},getObject:function(d9){var e=null;if(this.isAvailable()){e=localStorage.getItem(dk(d9));e=a9(e)}if(e===null){var d8=this.fallbackData[dk(d9)];if(typeof d8!=="undefined"){e=d8}}return e},set:function(e,d8){if(this.isAvailable()){localStorage.setItem(dk(e),d8)}else{if(this.isSaveInCookieEnabled()){a0(e,d8,N)}}this.fallbackData[dk(e)]=d8},setLocal:function(e,d8){if(this.isAvailable()){localStorage.setItem(dk(e),d8)}this.fallbackData[dk(e)]=d8},save:function(d8,d9,e){if(this.isAvailable()){localStorage.setItem(dk(d8),d9)}a0(d8,d9,e);this.fallbackData[dk(d8)]=d9},get:function(d8){var e=null;if(this.isAvailable()){e=localStorage.getItem(dk(d8))}if(e===null){e=cG(d8)}if(typeof e==="undefined"){e=this.fallbackData[dk(d8)]}return e},isSaveInCookieEnabled:function(){return this.get(v)>0},isExternalCountersEnabled:function(){return this.get(I)>0}};var c3=function(){return !aj(cQ.referrer)?cQ.referrer:null};var aM=function(e){return typeof e==="function"};var q=function(e){return typeof e==="object"};var cL=function(e){return typeof e==="string"};var ct=function(ea,d9){d9=typeof d9!=="undefined"?d9:false;var eb=function(ee){var ef=new RegExp("[#&?]"+ea+"=([^#&?]+)");var ed=ef.exec(ee);if(A(ed)&&typeof ed[1]==="string"&&ed[1].length>0){var ec=bP(ed[1]);return typeof ec==="string"&&ec.length>0?ec:ed[1]}return null};var e=eb(l);if(d9){var d8=cQ.referrer;if(e===null&&d8){e=eb(d8)}}return e};var bR=function(d8,d9){var e=false;if(d8&&d9){e=d8.split(d9).join("")!==d8}return e};if(ct(cj)==="1"||bo()[cj]==="1"){aP=true}var ab=function(){return true};var aJ=function(){return ab()?cH.roistatMultiWidgetOnly:cH.roistatOnlineChatOnly};var cM=function(){var d8=dv()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||dv()==="4";
var e=(cH.location.host==="cloud.roistat.com"||cH.location.host==="cloud-eu.roistat.com")&&cH.location.pathname!=="/user/login"&&cH.location.pathname!=="/user/register";if(d8&&!e){bT("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var cN=function(){if("https:"===cQ.location.protocol){return"https:"}else{return"http:"}};var bU=function(d8){var e=cQ.createElement("img");e.src=d8;bT("sendRequestByUrl: "+d8)};var da=function(d9,eb,d8){bT("sendApiRequestJSONP: init with url "+d9);var e=cQ.createElement("script");e.onload=e.onreadystatechange=function(){var ec=this.readyState?this.readyState:"unknown";bT("sendApiRequestJSONP: script state changed to "+ec)};if(typeof d8==="function"){e.onerror=function(){d8()}}e.src=z(d9);if(eb){e.setAttribute("data-roistat-script-id",eb)}e.type="text/javascript";e.async=true;var ea=cQ.getElementsByTagName("script")[0];ea.parentNode.insertBefore(e,ea);bT("sendApiRequestJSONP: script appended")};var bV=function(){if(L.isCssLoaded){return}(function(){var d9=cQ.createElement("link"),d8=cQ.getElementsByTagName("head"),e=dQ?"module_ma.css":"module.css";d9.setAttribute("rel","stylesheet");d9.setAttribute("href",cN()+"//"+b6+"/dist/"+e+"?"+c2);if(d8.length>0){L.isCssLoaded=true;d8[0].appendChild(d9)}})()};var n=function(){return aw()||F()};var aw=function(){return dL()!==null};var F=function(){return cO()!==null};var dp=function(){var e=M();if(e!==null){a0(aZ,e,bb())}};var M=function(){return dL()||cO()||null};var dL=function(){return ct("roistat_visit")};var cO=function(){return L.visitFromUser};var cy=function(d8,e){if(!e&&(L.isSettingsUpdating||(dG&&cQ.visibilityState==="hidden")||(!dG&&!cQ.hasFocus()))){bT("Already updating settings or document not in focus, return");return}var d9=bW()+"/get-settings?v="+c2+"&visit="+d8;bT("Request new settings");L.isSettingsUpdating=true;da(d9)};var dq=function(){return aW.get(dl)>0};var dn=function(){aW.set(dl,1)};var aE=function(){aW.remove(c7);aW.remove(bF);aW.remove(ce);aW.remove(m);aW.remove(bh);aW.remove(bH);aW.remove(g);aW.remove(J)};var dg=function(){var eb=function(){return aW.get(r)};var ea=function(){aW.set(r,bA)};var d8=function(){return typeof eb()==="string"};var e=function(){var ec=Number(eb())>bA;bT("Settings Version: settings version change status - "+ec);return ec};var d9=function(){var ec=1000*60*60*24;var ef=cR();var ee=cE()-ef;var ed=ee>ec;bT("Settings Version:: expiration day check: lastUpdateTime="+ef+", _lastUpdateTimeDiff="+ee+", _oneDayDiffInMs="+ec+", result="+(ed?1:0));return ed};if(!d8()){bT("Settings Version: set settings version up to 1");ea()}if(d9()||e()){bT("Settings Version: clear settings");aE()}};var bI=function(){bT("Call: Init");bT("Counter version: "+c2);if(ct("roistat_ab_demo")==="1"){bT("Roistat initialisation rejected: ab test preview mode");return}aC();dH();a2("start");setTimeout(function(){a2("after timeout 1")},5000);setTimeout(function(){a2("after timeout 2")},10000);setTimeout(function(){a2("after timeout 3")},20000);if((!bz()||cA())&&!aJ()){du=true;d2()}else{dg();dp();var e=dm();aI();Z();az();roistat.visit=e;L.source.marker=bv();cH.roistat.geo=aW.getObject(cI);var d8=aW.isAvailable()&&dq();if(!d8){cy(e)}else{d5();a2("settings exist")}}am(cb);am(aO)};var cb=function(){bT("InitExternalCounter");if(!aW.isExternalCountersEnabled()){bT("ExternalCounters is not available, return");return}var d9=dv();var d8=bX();var ec=d8?d8:dm();var eb=d9+":"+ec;var e=d9+":"+aD.MD5(dU(cQ.domain)).toString();var ea=function(ef,ed){var ee=(cQ.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+ed+"&event_type=view&user_id="+ef;var eg=new XMLHttpRequest;eg.open("GET",ee,true);eg.withCredentials=true;eg.onload=function(){if(eg.readyState===4){if(eg.status!==204){console.error(eg.statusText)}}};eg.onerror=function(){console.error(eg.statusText)};eg.send(null)};ea(eb,e);bT("InitExternalCounter: script appended")};var U=function(d9){if(!d9.isEnabled){return true}var e=new Date();var eg=new Date().toISOString();var ed=e.getUTCDay()===0?7:e.getDay();var ee=ed===6||ed===7;var ef=false;for(var eb=0;eb<d9.days.length;eb++){if(ed===d9.days[eb]){ef=true}}if(!ef){return false}if(ee&&d9.weekendsTime!==null){var eh=new Date(d9.weekendsTime.from).toISOString();var ea=new Date(d9.weekendsTime.to).toISOString();return eg>=eh&&eg<=ea}var ec=new Date(d9.weekdaysTime.from).toISOString();var d8=new Date(d9.weekdaysTime.to).toISOString();return eg>=ec&&eg<=d8};var aC=function(){bT("Call: initMarker");dX=cr();bT("Call: inited marker: "+dX)};var dH=function(){bT("Call: initReferrer");aN=c3();bT("Call: end initReferrer: "+aN)};var aO=function(){bT("Call: parsing roistat params from url");var ea={};for(var d9=1;d9<=cd;d9++){var d8="roistat_param"+d9;ea[d8]=ct(d8,false)}var e=dF(ea);if(B(e)&&Object.keys(e).length>0){O(e)}bT("Call: end parsing roistat params from url")};var aj=function(d9){if(!d9){return true}var e=dU(d9);var d8=dU(cQ.domain);if(e===d8){return true
}var ea=bO();if(ea===null){return false}if(bR(e,ea)&&bR(d8,ea)){return true}return false};var bO=function(){if(typeof N.domain==="string"&&N.domain!==""){return dU(N.domain)}return null};var dU=function(e){var d8=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return d8.split("/")[0]};var cr=function(){var d9=cG(a4)>0;var ee=null;var e=function(ef){return ef.split("_").join(":u:")};var ea=function(){var ef=false;var eg;eg=ct(bj,d9);if(eg!==null){ee=eg;ef=true}eg=ct(bw,d9);if(eg!==null){ee=eg;ef=true}return ef};var ed=function(){var ef=false;var eg=bv();if(eg){ee=eg;ef=true;au=false}return ef};var d8=function(){var ef=false;var eh=ct("utm_source",d9);if(eh!==null){ef=true;ee=":utm:"+e(eh);var ej=["utm_medium","utm_campaign","utm_content","utm_term"];var eg;for(var ei=0;ei<ej.length;ei++){eg=ct(ej[ei],d9);if(eg!==null){ee=ee+"_"+e(eg)}}}return ef};var ec=function(){var eh,eg,ef=false;eg=ct("_openstat",d9);if(!eg){return false}if(eb(eg)){eh=eg}else{eh=encodeURI(be.decode(eg));if(!eb(eh)){eh=eg}}if(eh){eh=e(eh).split(";").join("_");ee=":openstat:"+eh;ef=true}return ef};var eb=function(ef){return ef.match(/^([^;]*(;[^;]*){3})$/)!==null};if(ea()){bT("Init marker: init from RS param "+ee);return ee}if(d8()){bT("Init marker: init from UTM "+ee);return ee}if(ec()){bT("Init marker: init from OpenStat "+ee);return ee}bT("Init marker: try init from cookie "+ee);ed();return ee};var dm=function(){return aW.get(aZ)};var bX=function(){return aW.get(b0)};var c0=function(){bT("Call: saveReferrer");aW.set(ae,aN)};var dN=function(){bT("Call: removeReferrer");aW.remove(ae)};var aR=function(){a0(dV,bP(dX),bb())};var az=function(){bT("Call: refreshPromoCode");if(aJ()){bT("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return cG(aZ)};bD(e());if(!cH.onload){cH.onload=function(){bD(e())}}setTimeout(function(){bD(e())},50);setTimeout(function(){bD(e())},200);setTimeout(function(){bD(e())},2000);setTimeout(function(){bD(e())},10000)};cH.roistatPromoCodeRefresh=az;var ck=function(){var e=[];var d8=cQ.getElementsByClassName(cF);if(d8&&d8.length){e=d8}return e};var bD=function(e){var ea=ck();bT("setPromoCode: "+e+" in "+ea.length+" elements");for(var d9=0;d9<ea.length;d9++){var d8=ea[d9];d8.innerHTML=e?e:""}};var cY=function(){var d9=cr(),d8=cG(dV),eb=d9!==null,ea=true;var ed=bP(bP(d9)).toLowerCase().split("+").join(" "),ec=bP(bP(d8)).toLowerCase().split("+").join(" ");if(d9&&d8){ea=ed!==ec}var e=eb&&ea;cq="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+d9+":"+ed+" and old "+d8+":"+ec;bT(cq);return e};var bn=function(){var d8=function(eg){return/[\u0400-\u04FF]/.test(eg)};var ef=false,ec=aN,e=aW.get(ae),ee=cH.location.host;if(!ec||!ee){bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), skip because one of params is empty");return ef}ee=dU(ee);ec=bP(ec);e=bP(e);var ea=dU(ec);if(bR(ec,"xn--")&&d8(ee)){bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), skip because of bugs with punycode in FF");return ef}if(!ea){bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), skip because current referrer is null");return ef}if(!e){ef=!bR(ea,ee);bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), compare current referrer and host");return ef}if(bR(ec,e)){bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), skip because the same referrer");return ef}var ed=ee.split(".").length>2&&ea.split(".").length>2;var eb=cH.roistatCookieDomain!==dZ&&cH.roistatCookieDomain!==ee;var d9=ea.split(".").slice(1).join(".")===ee.split(".").slice(1).join(".");if(ed&&eb&&d9){bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+"), skip because sub domains of same domain");return ef}ef=!(bR(ea,ee)||(bR(ee,ea)));bT("Call: needOverrideByReferrer (result "+(ef?"true":"false")+") referrerHost: "+ea+", currentHost: "+ee);return ef};var cv=function(){return ct("utm_nooverride")==="1"};var cA=function(){return !n()&&!cv()&&(cY()||bn())};var bB=function(d8,e){return(d8&&e&&d8!=e)};var G=function(ea){var d8=["cookieExpire"];var ec=ea.leadHunterEnabled;if(Number(aW.get(cm))!==Number(ea.leadHunterEnabled)){aW.set(cm,Number(ea.leadHunterEnabled))}if(ec){var eb={expires:c8,path:"/"};if(N.domain){eb.domain=N.domain}a0(cw,1,eb)}for(var d9 in ea){if(!Object.prototype.hasOwnProperty.call(ea,d9)){continue}if(!ec&&d9.indexOf("leadHunter")>=0&&d9.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ax(d8,d9)){if(d9.indexOf("leadHunterTargetPagesMap")!==-1){var e=a9(ea[d9]);if(e!==null){aW.setObject("roistat_"+d9,e)}continue}aW.set("roistat_"+d9,ea[d9])}}};var dW=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};
if(Number(aW.get(bS))!==Number(e.is_enabled)){aW.set(bS,Number(e.is_enabled))}if(Number(aW.get(o))!==Number(e.vk.is_enabled)){aW.set(o,Number(e.vk.is_enabled))}if(aW.get(x)!==roistat.multiwidget.vk.link){aW.set(x,roistat.multiwidget.vk.link)}if(Number(aW.get(X))!==Number(e.fb.is_enabled)){aW.set(X,Number(e.fb.is_enabled))}if(aW.get(cU)!==roistat.multiwidget.fb.link){aW.set(cU,roistat.multiwidget.fb.link)}if(Number(aW.get(bd))!==e.telegram.is_enabled){aW.set(bd,Number(e.telegram.is_enabled))}if(aW.get(dO)!==roistat.multiwidget.telegram.link){aW.set(dO,roistat.multiwidget.telegram.link)}if(Number(aW.get(cl))!==e.whats_app.is_enabled){aW.set(cl,Number(e.whats_app.is_enabled))}if(aW.get(aY)!==roistat.multiwidget.whatsApp.link){aW.set(aY,roistat.multiwidget.whatsApp.link)}if(Number(aW.get(a))!==e.viber.is_enabled){aW.set(a,Number(e.viber.is_enabled))}if(aW.get(b5)!==roistat.multiwidget.viber.link){aW.set(b5,roistat.multiwidget.viber.link)}aW.setObject(cX,e)};var aq=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(aW.get(bH))!==Number(e.is_enabled)){aW.set(bH,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;aW.setObject(aX,e.advanced_settings)};var cV=function(e){cH.roistat.geo=e;aW.setObject(cI,e)};var al=function(e){bT("PromoCode: save settings");aW.setObject(bE,e)};var D=function(e){bT("LinksMarkup: save settings");aW.setObject(bm,e)};var ap=function(ea,d9,ee,ec,e,ed,eb,ef,d8){G(ea);roistat.callTracking.enabled=d9.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=ee.email;roistat.emailtracking.trackingEmail=ee.trackingEmail;roistat.emailtracking.emails=ee.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=e;dW(ed);aq(eb);cV(ec);al(ef);D(d8)};cH.roistatModuleSetVisitCookie=function(ed,el,eb,d8,ek,eg,e,en,ef,em,d9){bT("Call: roistatModuleSetVisitCookie("+ed+")");var eh;if(typeof eb.cookieExpire!=="number"){eh=bb().expires}else{eh=eb.cookieExpire}var ee=cG(aZ);var ej={expires:eh,path:"/"};if(N.domain){ej.domain=N.domain}aW.save(aZ,ed,ej);if(!bX()){var ea={expires:10*365*24*60*60,path:"/"};if(N.domain){ea.domain=N.domain}aW.save(b0,ed,ea)}var ei=eb.abTests;if((typeof ei!=="undefined")&&aW.isAvailable()){aW.setObject("abTesting",ei)}applyTests();var ec=eb.isNeedToListenRequests;if((typeof ec!=="undefined")&&aW.isAvailable()){aW.set(d6,ec)}bD(ed);if(el){aT(el);a0(dV,el,ej)}if(cH.roistatCallback!==dZ){cH.roistatCallback(ed,el)}if(!en){en={}}ap(eb,d8,ek,eg,e,en.multiwidget_settings,ef,em,d9);roistat.callTracking.phone=d8.phone;roistat.callTracking.sessionTime=d8.sessionTime;roistat.callTracking.replacementClasses=d8.replacementClasses;roistat.callTracking.phoneScriptsJson=d8.scripts;roistat.callTracking.rawPhone=d8.raw_phone;roistat.visit=ed;bT("Call: pre renderPromoCode");Z();az();if(bB(ee,ed)){bT("roistatModuleSetVisitCookie: visit changed from "+ee+" to "+ed)}co();dn();d5();a2("new visit")};cH.roistatUpdateSettings=function(e){bT("Set settings.");L.isSettingsUpdating=false;ap(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code,e.links_markup);dn();d5();a2("update settings")};var bz=function(){var e;if(cH.roistatIsInitVisit===true){e=false}else{e=aW.get(aZ)>0}bT("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var cJ=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var cK=function(){return aN?cJ(aN):""};var bW=function(){return cN()+"//"+b6+"/api/site/"+d+"/"+dv()};var b2=function(){var d8={expires:1,path:"/"};var e={expires:at,path:"/"};if(N.domain){d8.domain=N.domain;e.domain=N.domain}var d9=cG(bp);if(d9){a0(H,d9,e)}a0(bp,"",d8);a0(dJ,"",d8)};var cp=function(){var d8=aW.getObject("abTesting");if(!q(d8)){return""}var ea,d9,e=[];for(ea in d8){if(!Object.prototype.hasOwnProperty.call(d8,ea)){continue}d9=d8[ea];e.push(d9.id+":"+d9.variantId)}return e.join(",")};var d2=function(){bT("Call: setVisitIdCookie");var d8=function(){var ej=cK(),ee=cH.roistatIsInitVisit===true?dm():0,em=cG(bp),eh=cG(bY),ec=bX();em=em?em:"";ec=ec?ec:"";dX=dX&&(!bn()||au)?bP(bP(dX)):"";var ei=encodeURIComponent(l);bT("Calltracking: enabled="+K.callTrackingEnabled+", manual="+K.callTrackingManual);var ek=JSON.stringify(cH.roistat.page.params);var eg=av();var eb="";for(var ef in eg){if(!eg.hasOwnProperty(ef)){continue}var el=eg[ef];if(el!==null){eb+="&"+ef+"="+encodeURIComponent(el)}}var ed=bW()+"/addVisit?v="+c2+"&marker="+encodeURIComponent(dX)+"&visit="+ee+"&first_visit="+ec+"&guid="+eh+"&phone_prefix="+c+"&phone_prefix_bind="+aH+"&phone_scripts_bind="+cx+"&referrer="+ej+"&page="+ei+"&ab="+cJ(em)+"&ab_variants="+cJ(cp())+"&"+dh()+"="+s()+(ek==="{}"?"":"&page_params="+encodeURIComponent(ek))+((!K.callTrackingEnabled||K.callTrackingManual)?"&call_tracking_disabled=1":"")+eb;a2("calculateApiUrl");return ed};var e=function(eb){setTimeout(function(){bT("Call: setVisitIdCookie script creation after timeout");
var ec=cQ.createElement("script");ec.onload=function(){bT("Call: setVisitIdCookie script loaded");a2("setVisitIdCookie loaded")};ec.src=z(eb);ec.type="text/javascript";ec.async=true;ec.id=b9;var ed=cQ.getElementsByTagName("script")[0];ed.parentNode.insertBefore(ec,ed);bT("Call: setVisitIdCookie appended "+((cQ.getElementById(b9))?"true":"false"));bT("Call: sendJSONPRequest to URL "+eb);b2()},K.jsonpRequestTimeout)};if(dX){aT(dX);aR()}var ea=cG(Q);if(ea){a0(bY,ea,N)}cf();var d9=d8();e(d9);aN?c0():dN()};var aI=function(){bT("Call: sendAbTests");var d9=function(){var ed=dv(),ec=cG(aZ);return z(cN()+"//"+b6+"/site-api/"+bq+"/"+ed+"/visit/"+ec+"/addAbVariant")};var ea=cG(bp);var d8=cG(H);if(ea===d8||!ea){b2();return}var eb=d9();eb=eb+"?ab="+cJ(ea);var e=cQ.createElement("img");e.src=eb;b2()};var de={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(de.Android()||de.BlackBerry()||de.iOS()||de.Opera()||de.Windows())}};var bu={isIE:function(d9,eb){var ec="IE",d8=cQ.createElement("B"),e=cQ.documentElement,ea;if(d9){ec+=" "+d9;if(eb){ec=eb+" "+ec}}d8.innerHTML="<!--[if "+ec+']><b id="iecctest"></b><![endif]-->';e.appendChild(d8);ea=!!cQ.getElementById("iecctest");e.removeChild(d8);return ea},isSafari:function(){var e=cH.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var cR=function(){return aW.get(ch)};var dt=function(){var e="";cH.onerror=function(ed,ec,d9,eb,ea){var d8=!eb?"":", column: "+eb;d8+=!ea?"":", error: "+ea;e=e+", Error: "+ed+", url: "+ec+", line: "+d9+d8};setTimeout(function(){var ef=false,eg="";var eb=ck();for(var ee=0;ee<eb.length;ee++){var ea=eb[ee];if(ea!==null&&!ea.innerHTML){ef=true;eg="Promo HTML: "+ea.innerHTML}}if(!(cG(aZ)>0)){ef=true;eg=eg+"; roistat_visit = "+cG(aZ)}if(ef){var d9=cQ.getElementById(b9);var d8=d9?1:0;var ec=cH.navigator.userAgent;eg=encodeURIComponent(eg);var ed=cQ.createElement("img");ed.src=z(cN()+"//"+b6+"/site-api/"+bq+"/"+dv()+"/debug?message="+eg+"&agent="+ec+"&"+dh()+"="+s()+"&jserror="+e+"&scriptResponse="+d8+"&version="+c2+"&debug="+t)}},20000)};var cg=function(){var d9=cQ.getElementsByTagName("body");var ea=cQ.documentElement;var d8=0,eb=0;if(d9.length){var e=d9[0];d8=cH.innerWidth||ea.clientWidth||e.clientWidth;eb=cH.innerHeight||ea.clientHeight||e.clientHeight}else{d8=cH.innerWidth||ea.clientWidth;eb=cH.innerHeight||ea.clientHeight}return{width:d8,height:eb}};var Z=function(){var ed=cQ.getElementsByClassName("roistat-promo-wrap");if(ed.length){bT("PromoCode: old promo code length - exit");return}if(aJ()){bT("PromoCode: Shut down because only online chat need to be inited");return}var ec=aW.getObject(bE);if(ec&&ec.hasOwnProperty("is_enabled")){cH.roistat.promoCode.isEnabled=ec.is_enabled;bT("PromoCode: set is_enabled from storage")}var ea=function(){var ek=cQ.createElement("div");ek.innerHTML=roistatPromoCode;var ei=cQ.getElementsByTagName("body");if(ei.length){ei[0].appendChild(ek)}bT("PromoCode: appended to body "+roistatPromoCode.length);var ej=cQ.getElementsByClassName("roistat-promo-wrap")[0];if(!ej){bT("PromoCode: roistat-promo-wrap not found, skip");return}var eh=ej.style;var ef,eg,ee;setInterval(function(){ef=cg();eg=ej.offsetWidth;ee=ej.offsetHeight*2;switch(roistatPosition){case"top_left":eh.left=0;eh.top=0;break;case"top":eh.left=((ef.width-eg)/2)+"px";eh.top=0;break;case"top_right":eh.right=0;eh.top=0;break;case"left":eh.left=0;eh.top=((ef.height-ee)/2)+"px";break;case"right":eh.right=0;eh.top=((ef.height-ee)/2)+"px";break;case"bottom_left":eh.left=0;eh.bottom=0;break;case"bottom":eh.left=((ef.width-eg)/2)+"px";eh.bottom=0;break;case"bottom_right":eh.right=0;eh.bottom=0;break;default:eh.left=0;eh.top=0}},500)};var e=aW.getObject("promo_code_options");if(e){bT("PromoCode: options already set");cH.roistatPromoCode=e.template;cH.roistatPosition=e.position;ea()}else{if(!cH.roistat.promoCode.isEnabled){bT("PromoCode: is not available, skip");return}var eb=cQ.getElementsByTagName("head")[0]||cQ.documentElement;var d9=cQ.createElement("script");d9.src=z(cN()+"//"+b6+"/site-api/"+bq+"/"+dv()+"/getPromoCode");eb.insertBefore(d9,eb.firstChild);bT("PromoCode: loading started");var d8=false;d9.onload=d9.onreadystatechange=function(){if(!d8&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d8=true;d9.onload=d9.onreadystatechange=null;if(eb&&d9.parentNode){eb.removeChild(d9)}}if(!d8){return}bT("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){bT("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};aW.setObject("promo_code_options",e);ea()}}};var ax=function(d8,d9){for(var e=0;e<d8.length;e++){if(d8[e]===d9){return true}}return false
};var dI=function(d8){if(!an||d8===""){return}var e=dm();bg("visit: "+e+" "+d8)};var bg=function(d8){var e=bW()+"/log?log="+encodeURIComponent(d8);da(e)};var d0=function d0(){var eb=cH.onpopstate;var ec=cH.history.pushState;var e=cH.history.replaceState;cz(cH,"popstate",function ea(ed){bT("[Roistat]: popstate event catch");cW();if(ca()&&typeof eb==="function"){eb(ed)}});cz(cH.history,"pushState",function d9(ee,ef,ed){bT("[Roistat]: pushState event catch");cW();if(ca()&&typeof ec==="function"){ec.apply(this,[ee,ef,ed])}});cz(cH.history,"replaceState",function d8(ee,ef,ed){bT("[Roistat]: replaceState event catch");cW();if(ca()&&typeof e==="function"){e.apply(this,[ee,ef,ed])}})};(function R(){d0();if(cH.onRoistatModuleLoaded!==dZ&&typeof cH.onRoistatModuleLoaded==="function"){cH.onRoistatModuleLoaded()}})();(function aa(){var d8="fngr."+k(b6);var eb=false;if(!eb){bT("Fingerprint: disabled");return}cH.roistat.crossdevice={registerFingerprint:function d9(ec){bT("Fingerprint: collected data "+JSON.stringify(ec));roistat.registerOnVisitProcessedCallback(function(){bT("Fingerprint: sending to service");var ed=Object.keys(ec).map(function(ef){return ec[ef].key+"="+encodeURIComponent(ec[ef].data)}).join("&");ed=ed+"&visit="+dv()+"|"+bX()+"|"+roistat.getVisit();ed+="&host="+encodeURIComponent(cH.location.host);var ee=cN()+"//"+d8+"/register?"+ed;da(ee)})},markVisit:function e(ec){bT("Fingerprint: marking visit "+ec)}};bT("Fingerprint: initialising library");var ea=cN()+"//"+d8+"/static/fingerprint.js";da(ea)})();var cD=function(d8){var ed=function(ek,ei){var eh;if(bR(ei,"*")){var ej=new RegExp(ei.split("*").join(".*"));eh=ej.test(ek)}else{eh=ek===ei}bT("LeadHunter: compare current: "+ek+", setting: "+ei+" with result = "+(eh?1:0));return eh};var e=cH.location.href,ea=false,d9=false,ef="",eb=0,ee;ee=d8?d8.split(","):[];if(!e||ee.length===0){ea=true}else{ef=aU(e);var eg;for(var ec=0;ec<ee.length;ec++){eg=ee[ec].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(eg)){if(ed(ef,eg.split(/^!/).join(""))){d9=true;break}}else{eb++;if(ed(ef,eg)){ea=true;break}}}}if(d9){bT('LeadHunter: current page "'+ef+'" is disabled by list');return false}if(!ea&&eb>0){bT('LeadHunter: current page "'+ef+'" is not listed');return false}bT('LeadHunter: current page "'+e+'", cleaned: "'+ef+'" is not disabled in '+ee.length+" list of pages");return true};try{bI()}catch(dA){dI(dA)}(function j(){var ex="empty",ee=false,d8=true,eo=false;var et={roistat_visit:cG(aZ),marker:dX,user_agent:cH.navigator.userAgent,current_page:{title:cQ.title,href:cH.location.protocol+"//"+cH.location.host+cH.location.pathname}};var ey=function(eE,eD,eC){if(eE.addEventListener){eE.addEventListener(eD,eC,false)}else{if(eE.attachEvent){eE.attachEvent("on"+eD,eC)}else{bT("Handler could not be attached")}}};var eq=function(eE,eC){if(eE===dZ||typeof eC!=="string"||eC.length===0){return}var eD=eE.getElementsByClassName(eC);if(eD===dZ||eD.length===0){return}return eD[0]};var ez=function(eC){return typeof eC==="object"&&eC!==null};var ef=function(eC,eE,eD){if(ez(eC)){if(eD){eC.classList.add(eE);return}eC.classList.remove(eE)}};var eA=cH.visualViewport;var en="visualViewport" in cH;var er=function(eC){return(eC===0)?1:eC};var eB=function(){var eC;if(en){eC=1/er(eA.scale)}else{eC=cH.innerWidth/er(cH.outerWidth)}return eC};var ev=function(){if(aL()){return"none"}return"scale("+eB()+")"};var ed=function(){if(!aL()){return"none"}return"scale("+eB()+")"};var eu={leadHunter:function(){var gn="roistat-lh-form",eZ="roistat-lh-form",gp="roistat-lh-head-text",fd="roistat-lh-head",eW="roistat-lh-thank-you",fE="roistat-lh-thank-you",eH="roistat-lh-close",eI="roistat-lh-submit",fm="roistat-lh-hidden",f3="roistat-lh-wrap",e1="roistat-lh-popup-wrapper",fD="roistat-lh-popup",go="roistat-lh-agreement",fz="roistat-lh-agreement roistat-lh-mobile",gD="roistat-lh-agreement-input",ge="roistat-lh-agreement-link",eC="roistat-lh-agreement-doc",gj="roistat-lh-alert-row",fL="roistat-lh-agreement",fy="roistat-lh-popup-iframe",fO="roistat_leadHunterUrl",gg="roistat_leadHunterAppearanceUrl",fq="roistat_leadHunterTargetPagesList",eV="roistat_leadHunterCaught",fV="roistat_leadHunterMinTime",fh="roistat_leadHunterAutoShowTime",fS="roistat_leadHunterPulsatorEnabled",fb="roistat_leadHunterScriptsCaught",gE="roistat_leadHunterScriptsShownCount",fw="roistat-lh-load-done",e0="roistat-lh-close-modal",f5="roistat-lh-script-settings",f4="roistat-lh-setting-size",gk="roistat-lh-before-submit",fP="roistat-lh-before-submit-done",gr="roistat-lh-after-submit",f8="roistat-lh-event-data",f9="roistat-lh-translate-form",gA={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eU=0.3,e5=0.001,eX=false,e8=0,e3=0,e9=0,gs=0,e7=0,fn=false,eM=false,gC=false,e6,gi,fG,fM,f2,fc,gB,gw,gf,gz,eQ,gt,fZ,fH,fx,eT,eF,fl,fa,fi,gc,gl,ff,fp;
var gv={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gq=function(gJ){var gI=encodeURIComponent?encodeURIComponent:encodeURI;return gI(gJ)};var f7=function(){if(!cH.roistat.leadHunter.isEnabled){return false}if(cH.roistatLeadHunterInited){return false}cH.roistatLeadHunterInited=true;if(aW.get(cm)<1){bT("LeadHunter: disabled");return false}return true};var fk=function(){eF=aW.get(fO);if(!eF){bT("LeadHunter: not active cause of empty url");return false}bV();fl=aW.get(gg);gs=aW.get(fV);e7=cH.roistat.leadHunter.form.autoShowTime===null?aW.get(fh):cH.roistat.leadHunter.form.autoShowTime;ee=aW.get(fS)==1;eE();bT("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(ee?1:0));return true};var fs=function(){if(cs){return f0()||e4()}return aW.get(eV)>0};var eE=function(){if(!(cG(cw)>0)){bT("LeadHunter: not active, expired for this visit");fn=true}};var eN=function(gI){gC=true;fi=gc.src;var gJ={version:c2,additionalNotifyEmail:cH.roistat.leadHunter.additionalNotifyEmail,projectKey:dv(),language:ds,visitId:aA(),moduleTargetOrigin:cH.location.origin,referrer:cH.location.href,windowWidth:cH.innerWidth||0,iframeWrapperWidth:fM.offsetWidth||0,sendRequestUrl:aW.get(fO),message:fw};gc.contentWindow.postMessage(gJ,fi);fU();if(gI&&cD(aW.get(fq))){bT("iframe fired, rise up iframe show count state");eG()}};var fv=function(){eM=true;eL("click");eN();f1()};var eK=function(){var gI=cH.location.hash;if(!gI){return}if(bR(gI,"roistat-lead-hunter")){fv()}};var ft=function eS(){bT("LeadHunter: binding timeout");if(fn){bT("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eX){bT("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(e7>0){var gI=(e8-cE())+e7*1000;bT("LeadHunter: binding timeout with delay "+gI+" ms");clearTimeout(gv.timeoutId);gv.timeoutId=setTimeout(function(){bT("LeadHunter: form auto activate with autoTime = "+e7);if(cs&&fs()){return}if(!eX){bT("LeadHunter: show by timeout");eM=true;eL("auto");eN(true);f1()}},gI)}else{clearTimeout(gv.timeoutId);bT("LeadHunter: auto show time is not positive, feature disabled")}};var gh=function(){gf.onclick=f2.onclick=fJ;gz.onclick=fo;if(ez(gt)){ey(gt,"click",fA)}if(ez(fZ)){ey(fZ,"change",gG)}var gJ=cQ.getElementsByClassName("roistat-lh-input");if(Array.isArray(gJ)){for(var gM=0;gM<gJ.length;gM++){ey(gJ[gM],"keyup",function(gQ){gQ=gQ||event;var gP=(gQ.keyCode?gQ.keyCode:gQ.which);if(gP==13){fo()}})}}var gK=cH.onresize;cH.onresize=function(gP){if(gK){gK(gP)}gm(gP)};if(!fn){var gI=cQ.onmouseout;cQ.onmouseout=function(gP){if(gI){gI(gP)}fY(gP)}}if(ee&&!em()&&ez(e6)){e6.onmouseover=function(){dB(e6,"roistat-lh-pulsator-hover")};e6.onmouseout=function(){dK(e6,"roistat-lh-pulsator-hover")};e6.onclick=function(){fv()};cH.addEventListener("resize",function gO(){if(ez(e6)){e6.style.transform=ev()}});if(en){eA.addEventListener("resize",function gN(){if(ez(e6)){e6.style.transform=ev()}})}}var gL=cH.onhashchange;cH.onhashchange=function(){if(gL){gL.apply(this,arguments)}eK()}};var gy=function(){if(ee&&!em()&&ez(e6)){e6.onmouseover=function(){dB(e6,"roistat-lh-pulsator-hover")};e6.onmouseout=function(){dK(e6,"roistat-lh-pulsator-hover")};e6.onclick=function(){fv()};cH.addEventListener("resize",function gM(){e6.style.transform=ev()});if(en){eA.addEventListener("resize",function gL(){if(ez(e6)){e6.style.transform=ev()}})}}f2.onclick=fJ;gc=cQ.getElementById(fy);if(ez(gc)){ey(gc,"load",function(){eN();gu()})}var gJ=cH.onresize;cH.onresize=function(gN){if(gJ){gJ(gN)}gm(gN)};if(!fn){var gI=cQ.onmouseout;cQ.onmouseout=function(gN){if(gI){gI(gN)}if(!cs){bT("ShowLimit: Beta Test off, check cursor usually");fY(gN)}else{bT("ShowLimit: check cursor by caught or max show limit");if(!fs()){bT("ShowLimit: Check cursor allowed");fY(gN,true)}}}}var gK=cH.onhashchange;cH.onhashchange=function(){if(gK){gK.apply(this,arguments)}eK()}};var fI=function(gJ){var gI=cQ.getElementsByClassName(gJ);if(gI.length>0){return gI[0]}else{return null}};var fF=function(){var gL=fI("roistat-lh-title");if(ez(gL)&&roistat.leadHunter.form.title){gL.innerHTML=roistat.leadHunter.form.title}var gJ=fI("roistat-lh-sub-title");if(ez(gJ)&&roistat.leadHunter.form.subTitle){gJ.innerHTML=roistat.leadHunter.form.subTitle}var gK=fI("roistat-lh-thank-you");if(ez(gK)&&roistat.leadHunter.form.thankYouText){gK.innerHTML=roistat.leadHunter.form.thankYouText}var gN=fI("roistat-lh-submit");if(ez(gN)&&roistat.leadHunter.form.buttonText){gN.value=roistat.leadHunter.form.buttonText}var gM=fI("roistat-lh-text-label-name");if(ez(gM)&&roistat.leadHunter.form.nameLabel){gM.innerHTML=roistat.leadHunter.form.nameLabel}var gI=fI("roistat-lh-text-label-contact");if(ez(gI)&&roistat.leadHunter.form.contactLabel){gI.innerHTML=roistat.leadHunter.form.contactLabel}};var e2=function(gJ,gN,gM){if(cQ.body===null){return}var gI;if(!gJ){bT("LeadHunter: deactivating, empty form")}else{bT("LeadHunter: rendering hidden form")}f2=cQ.createElement("div");fM=cQ.createElement("div");fM.innerHTML=gJ;f2.className=fm;
fM.className=fm;bT("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(ee?1:0));if(gN&&ee&&gM&&!em()){var gK=typeof gM.position==="string"&&gM.position!==""?gM.position:"bottomRight";gI=cQ.createElement("div");gI.innerHTML=gN;e6=gI.childNodes.item(0);gi=e6.childNodes.item(1);fG=e6.childNodes.item(2).childNodes.item(0);gi.setAttribute("style","background: "+gM.button.background+";");fG.setAttribute("style","fill: "+gM.button.color+";");e6.setAttribute("style","bottom: "+gA[gK].bottom+";right:"+gA[gK].right+";");e6.style.transformOrigin=gA[gK].transformOrigin;e6.style.transform=ev();gv.pulsator.previousClass=e6.className;e6.className=fm;cQ.body.appendChild(e6)}cQ.body.appendChild(f2);cQ.body.appendChild(fM);fc=cQ.getElementById(fd);gB=cQ.getElementById(eZ);gw=cQ.getElementById(fE);gf=cQ.getElementById(eH);gz=cQ.getElementById(eI);eQ=cQ.getElementById(go);fZ=cQ.getElementById(gD);gt=cQ.getElementById(ge);fH=cQ.getElementById(eC);fx=cQ.getElementById(gj);eT=cQ.getElementById(fL);var gL=fI(e1);fa=ez(gL)&&gL.getAttribute("data-is-iframe");if(fa){gy()}else{fF();gh();eK();gu()}};var gx=function(gK){var gJ=gK.button&&gK.button.background&&gK.button.color;if(!gJ){return}aW.setObject(ce,fp);var gI=typeof gK.position==="string"&&gK.position!==""?gK.position:"bottomRight";if(ez(gi)){gi.setAttribute("style","background: "+gK.button.background+";")}if(ez(fG)){fG.setAttribute("style","fill: "+gK.button.color+";")}if(ez(e6)){e6.setAttribute("style","bottom: "+gA[gI].bottom+";right:"+gA[gI].right+";");e6.style.transformOrigin=gA[gI].transformOrigin;e6.style.transform=ev()}};var eR=function(){var gI=aW.get(c7),gK=aW.get(bF),gJ=aW.getObject(ce);if(gJ!==null){e2(be.decode(gI),be.decode(gK),gJ)}};var fr=function(){var gJ=fM.clientWidth,gI=fM.clientHeight;if(ez(fM)){fM.setAttribute("style",fM.getAttribute("style")+" width: "+gJ+"px; height: "+gI+"px;")}if(ez(gB)){gB.className=fm}if(ez(fc)){fc.className=fm}if(ez(eQ)){eQ.className=fm}if(ez(gw)){gw.setAttribute("style","width: "+gJ+"px; height: "+gI+"px; display: table-cell;");gw.className=eW}setTimeout(function(){bT("LeadHunter: close form after timeout");fJ()},7000)};var f1=function(){var gJ=Math.round((gd()-fM.clientHeight)/2);var gI=Math.round((gH()-fM.clientWidth)/2);if(ez(fM)){fM.setAttribute("style","left: "+gI+"px; top: "+Math.max(0,gJ)+"px;")}};var eL=function(gJ){if(!cD(aW.get(fq))){return}if(cH.roistat.leadHunter.onBeforeAppear){bT("LeadHunter: process user defined onBeforeAppear");cH.roistat.leadHunter.onBeforeAppear(gJ);if(fa){fU()}}if(ez(fM)){fM.setAttribute("style","left:20px;top:-20px;opacity:0");fM.className=fD}if(ez(f2)){f2.className=f3}if(ez(gB)){gB.className=gn}if(ez(fc)){fc.className=gp}if(ez(eQ)){eQ.className=fz}if(ez(gw)){gw.setAttribute("style","");gw.className=fm}if(ez(f2)){f2.setAttribute("style","opacity:0;")}eX=true;setTimeout(function(){f2.setAttribute("style","opacity:.5;")},10);var gK=cG(aZ),gI=fl+"?visit_id="+gK+"&page="+h();bU(gI);if(cH.roistat.leadHunter.onAfterAppear){bT("LeadHunter: process user defined onAfterAppear");cH.roistat.leadHunter.onAfterAppear(gK,f2,fM,gB);if(fa){fU()}}};var f6=function fK(){e8=cE();eR();bT("LeadHunter: form initialized")};var gu=function fu(){bT("LeadHunter: tuning appearance for page");if(!cD(aW.get(fq))||(aW.get(bC)&&!aW.get(aB))){bT("LeadHunter: disabled on page");gv.leave.isShowEnabled=false;clearTimeout(gv.timeoutId);if(em()){d8=false;ej()}if(ez(e6)){e6.className=fm}}else{bT("LeadHunter: enabled on page");if(!cs&&!fs()){bT("ShowLimit: Beta Test off, bindShowOnTimeout usually");gv.leave.isShowEnabled=true;ft()}if(cs){bT("ShowLimit: bindShowOnTimeout by caught or max show limit");if(!fs()){bT("ShowLimit: bindShowOnTimeout allowed");gv.leave.isShowEnabled=true;ft()}}if(ez(e6)){e6.className=gv.pulsator.previousClass}}};var fe=function fX(){bT("LeadHunter: processing single page application state change");e8=cE();gu()};var gb=function fB(){db(fe);var gJ=function(){var gP=cQ.querySelector("html"),gL=600,gO=300,gR=cH.innerWidth,gK=getComputedStyle(gP).zoom,gN={};var gM=function(){var gS=gP.style.cssText.split(";").find(function(gT){return gT.includes("--zoomLevel")});if(gS!==dZ){gS=gS.split(":");if(gS.length>1){gS=parseFloat(gS[1])}else{return dZ}}return gS};var gQ=gM();if(gQ!==dZ){gK=gQ}if(gR<gL&&gR>=gO){gN={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gK};gc.contentWindow.postMessage({sizeSettings:gN,message:f4,windowWidth:cH.innerWidth||0},fi);return}if(gR<gO){gN={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gK};gc.contentWindow.postMessage({sizeSettings:gN,message:f4,windowWidth:cH.innerWidth||0},fi);return}gN={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gK};gc.contentWindow.postMessage({sizeSettings:gN,message:f4,windowWidth:cH.innerWidth||0},fi)};cH.roistatLeadHunterUpdate=gJ;cz(cH,"load",function(){gJ()});cz(cH,"resize",function(){gJ()});cz(cH,"message",function gI(gO){var gT=typeof gO.data==="string"?gO.data:gO.data.message;if(gT===f5){gl=gO.data.leadHunterId;ff=gO.data.leadHunterMaxShownCount;
var gS=aW.getObject(bl)!==null;if(gS){e7=gO.data.leadHunterAutoShowTime;gs=gO.data.leadHunterMinTime;fp=gO.data.leadHunterPulsatorSettings;aW.set(fV,gs);aW.set(fh,e7);if(fp){var gR=Number(fp.isEnabled);bT("Leadhunter: set pulsator setting "+gR);aW.set(fS,gR);gx(fp)}}bT("ShowLimit: Get lhScriptId: "+gO.data.leadHunterId+" and lhScriptMaxShownCount: "+gO.data.leadHunterMaxShownCount+" from lh widget");fR()}if(gT===e0){fJ()}if(gT===f4){var gN=typeof gO.data==="object"&&gO.data.calibratingSize!==dZ?gO.data.calibratingSize:true;gc.setAttribute("style","width: "+gO.data.width+"px !important; height: "+gO.data.height+"px !important;");if(gC&&!gN){gc.contentWindow.postMessage({message:f4,windowWidth:cH.innerWidth||0,calibratingSize:true},fi)}gm(gO)}if(gT===gk){var gM=gO.data.caughtLeadData;if(cH.roistat.leadHunter.onBeforeSubmit){bT("LeadHunter: process user defined onBeforeSubmit");var gK=cH.roistat.leadHunter.onBeforeSubmit(gM);if(gK){gM=gK}}if(!cs){bT("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eO()}else{bT("ShowLimit: catch before submit message, setLeadHunterScriptCaught will run");fT()}var gL=aW.getObject(bL);var gQ=gL!==null;var gP=gQ&&gM.isNeedCallback===null&&!U(gL);if(gP){gM.isNeedCallback=0}gc.contentWindow.postMessage({caughtLead:gM,message:fP},fi)}if(gT===gr){if(cH.roistat.leadHunter.onAfterSubmit){bT("LeadHunter: process user defined onAfterSubmit");cH.roistat.leadHunter.onAfterSubmit({name:gO.data.name,phone:gO.data.phone})}}})};function fU(){var gI={apiData:cH.roistat.leadHunter.form,message:f8};gc.contentWindow.postMessage(gI,fi)}function fR(){if(!f7()){bT("checkLeadHunterLaunch false");return}var gI=aW.getObject(bl)!==null;if(gI){eP()}if(!fk()){bT("initSettings false");return}bT("LeadHunter: activated");a6(function(){f6();gu();gb();if(typeof cH.onRoistatLeadHunterInited==="function"){cH.onRoistatLeadHunterInited()}})}function gd(){return(cH.innerHeight?cH.innerHeight:cQ.documentElement.clientHeight==0?cQ.body.clientHeight:cQ.documentElement.clientHeight)}function gH(){return(cH.innerWidth?cH.innerWidth:cQ.documentElement.clientWidth==0?cQ.body.clientWidth:cQ.documentElement.clientWidth)}function fY(gL,gI){gL=gL||event;e9=gL.clientY;var gJ=e9/gd(),gN=e3>0&&e3>gJ,gK=gJ<e5,gM=(cE()-e8)>gs*1000;if(gN&&gK&&!eX&&gM&&gv.leave.isShowEnabled&&!fs()){bT("LeadHunter: show modal with because move up ("+e3+" -> "+gJ+") and in modal zone and show on leave enabled");eL("exit");eN(gI);fC(gL)}if(gJ<eU){e3=gJ}}function gm(gI){if(eM){f1()}else{gI=gI||event;fC(gI)}}function fC(gN){var gJ=gN.type==="message"?gN.data.width:fM.offsetWidth;var gK=gH();var gI=gN.clientX-Math.round(gJ/2)||fM.offsetLeft;gI=Math.max(20,Math.min(gI,gK-gJ-20));var gO=gI+gJ>gK-40;if(gO){var gL=(gI+gJ-20)-(gK-40);gI=gI-gL}var gM=gK-40>gJ?"":"width: "+(gJ-40)+"px;";if(ez(fM)){fM.setAttribute("style","left: "+gI+"px; top: 0px; "+gM)}}function eO(){if(cs){return}cH.roistatSetCookie(eV,1,N)}function fJ(){if(!cs){bT("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eO()}if(ez(f2)){f2.setAttribute("style","opacity:0")}if(ez(fM)){fM.style.top="-"+fM.offsetHeight*2+"px";setTimeout(function(){fM.className=f2.className=fm},500)}}function fo(){var gW=cQ.getElementById("roistat-lh-phone-input"),gK=cQ.getElementById("roistat-lh-name-input"),gM,gU;gM=gW===null?"":gW.value;gU=gK===null?"":gK.value;var gR={name:gU,phone:gM,isNeedCallback:null,callbackPhone:null,fields:{}};if(cH.roistat.leadHunter.onBeforeSubmit){bT("LeadHunter: process user defined onBeforeSubmit");var gN=cH.roistat.leadHunter.onBeforeSubmit(gR);if(gN){gR=gN}}var gT=gR.phone.length<1;var gV=gR.phone.indexOf("_")===-1;var gP=!gT&&gV;var gS=gR.name.length<1;var gJ=!gS||!cH.roistat.leadHunter.form.isNameRequired;if(!gP&&ez(gW)){gW.setAttribute("style","border: 2px solid #E0571A;");return}if(!gJ&&ez(gK)){gK.setAttribute("style","border: 2px solid #E0571A;");return}var gI=eF+"?v="+c2+"&lead-hunt-input="+encodeURIComponent(gR.phone)+"&lead-name="+encodeURIComponent(gR.name)+"&visit="+aA();if(gR.isNeedCallback!==null&&gR.isNeedCallback!==dZ){gI=gI+"&is_need_callback="+(gR.isNeedCallback>0?1:0)}if(gR.callbackPhone){gI=gI+"&callback_phone="+gR.callbackPhone}if(cH.roistat.leadHunter.additionalNotifyEmail!==null){gI=gI+"&additional_email="+encodeURIComponent(cH.roistat.leadHunter.additionalNotifyEmail)}var gL=0;if(gR.fields&&typeof gR.fields==="object"){for(var gO in gR.fields){if(gR.fields.hasOwnProperty(gO)){++gL}}}if(gL>0){gI=gI+"&fields="+gq(JSON.stringify(gR.fields))}gI=gI+"&t="+cE();var gQ=cQ.createElement("img");gQ.src=gI;if(ez(gW)){gW.setAttribute("style","")}if(!cs){bT("ShowLimit: Beta Test off, caught LH usually");eO()}else{bT("ShowLimit: caught LH by set setLeadHunterScriptCaught");fT()}if(!ez(gw)){fJ();fj()}else{fr()}if(cH.roistat.leadHunter.onAfterSubmit){bT("LeadHunter: process user defined onAfterSubmit");cH.roistat.leadHunter.onAfterSubmit({name:gU,phone:gM})}}function fA(gI){if(gI.preventDefault){gI.preventDefault()}else{gI.returnValue=false
}if(ez(fH)){fH.style.display==="block"?fH.style.display="none":fH.setAttribute("style","display: block; padding: 0 30px; width:"+fM.clientWidth+"px;")}gm()}function gG(){if(ez(gz)){gz.disabled===true?gz.disabled=false:gz.disabled=true}if(ez(fx)){fx.style.display==="block"?fx.style.display="none":fx.style.display="block"}}function fj(){cQ.onmousemove=null;if(ez(f2)){f2.onresize=null}}var fg=function(gO,gR){if(!gO||!gR){bT("LeadHunter: skip phone mask render due to empty input or mask");return}bT("LeadHunter: render phone mask "+gR+" for input: "+gO.value);if(cH.roistatRenderPhoneMaskMutex){return}cH.roistatRenderPhoneMaskMutex=true;var gL="_",gK="x",gN="х",gM=gR.toLowerCase().split(gK).join(gL).split(gN).join(gL);var gJ=function(gS){if(gO.setSelectionRange){gO.setSelectionRange(gS,gS)}else{if(gO.createTextRange){var gT=gO.createTextRange();gT.collapse(true);gT.moveEnd("character",gS);gT.moveStart("character",gS);gT.select()}}};var gP=function(gS){if(!gS){return 0}var gT=gS.indexOf(gL);if(gT<0){return gS.length}return gT};var gQ=function(gS){gJ(gP(gS))};var gI=function(g1){var g2=gM.split("");if(!g1){return gM}var gS=g1.split("");var g3=[],g0,gX,gZ,gW,gU,gT,gY;for(var gV=0;gV<g2.length;gV++){gX=g2[gV];if(gV>=gS.length){g3.push(gX);continue}gU=((gV+1)<g2.length)?g2[gV+1]:null;gT=((gV+1)<gS.length)?gS[gV+1]:null;gY=((gV+2)<gS.length)?gS[gV+2]:null;g0=gS[gV];gZ=parseInt(g0)>=0;gW=(gX===gL)&&gZ;if(!gW){g3.push(gX);continue}if(gT===gL&&gU!==gL&&gY!==gU){g3.push(gX);continue}g3.push(g0)}return g3.join("")};setTimeout(function(){var gS=gI(gO.value);if(gO.value!==gS){gO.value=gS}gQ(gS);cH.roistatRenderPhoneMaskMutex=false},1)};var ga=function(gI,gK,gJ){aW.setLocal(c7,be.encode(gI));aW.setLocal(bF,be.encode(gK));aW.setObject(ce,gJ)};var fQ=function(gI){ds=gI;if(gc===dZ){return}eD()};var eD=function(){var gI={language:ds,message:f9};gc.contentWindow.postMessage(gI,fi)};var fT=function(){bT("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gI=aW.getObject(fb);if(!gI){gI={}}bT("ShowLimit: roistat_leadHunterScriptsCaught for lhScriptId set to 1");gI[gl]=1;aW.setObject(fb,gI)};var eG=function(){bT("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gK=aW.getObject(gE);if(!gK){gK={}}var gL=gK.hasOwnProperty(gl);var gI=aW.get(eV)>0;if(!gL){bT("ShowLimit: roistat_leadHunterScriptsShownCount for lhScriptId initialized");gK[gl]=gI?1:0}var gJ=ff>0&&gK[gl]+1>ff;if(gJ){bT("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in storage not rise up, return from function");return}bT("ShowLimit: exist lhScriptId show counter rise up");gK[gl]+=1;aW.setObject(gE,gK);if(gI){aW.remove(eV);dT(eV,{path:"/"});bT("ShowLimit: cookie roistat_leadHunterCaught handled and deleted")}};var e4=function(){if(ff===0){bT("ShowLimit: show limit off and set to 0");return false}var gJ=aW.getObject(gE),gI=aW.get(eV)>0?1:0,gK=gJ?gJ[gl]:gI,gL=gK+1>ff;bT("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gL);return gL};var f0=function(){var gK=aW.getObject(fb),gI=gK?gK[gl]:null,gJ=gI===1;bT("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gJ);return gJ};var eP=function(){aW.set(bC,eJ());aW.setLocal(c7,be.encode(fW()));aW.set(fq,eY());aW.set(fS,gF())};var fW=function(){var gI=z(cN()+"//"+b6+"/api/site/1.0/"+dv()+"/leadhunter/script/"+aW.get(bC)+"/widget?visit_id="+dm());return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gI+'" frameborder="0"></iframe></div>'};var eJ=function(){var gJ=aW.getObject(bl);if(gJ===null){return}aW.set(aB,"");var gN=Number(aW.get(cm));var gR=Object.keys(gJ);var gO=gR.sort()[0];if(!gN){return gO}for(var gM=0;gM<gR.length;gM++){var gS=gJ[gR[gM]];var gP=gS.targetPageList;var gL=cD(gP.join(","));var gK=gP.length===0;var gI=Array.isArray(gS.devicesFilter)&&gS.devicesFilter.length>0?gS.devicesFilter.indexOf(bK())!==-1:true;var gQ=(gK||gL)&&gI&&(!gS.timetable.isEnabled||U(gS.timetable));if(gQ){gO=gR[gM];aW.set(aB,gO)}}return gO};var eY=function(){var gI=fN();return gI!==null?gI.targetPageList.join(","):""};var gF=function(){var gI=fN();return gI!==null?Number(gI.isPulsatorEnabled):0};var fN=function(){var gI=aW.get(bC);var gJ=aW.getObject(bl);return gJ!==null&&gJ[gI]!==null?gJ[gI]:null};cH.roistatLeadHunterShow=fv;cH.roistatRenderPhoneMask=fg;cH.roistat.leadHunter.localization.translateToRussian=function(){fQ(a1)};cH.roistat.leadHunter.localization.translateToEnglish=function(){fQ(di)};am(fR)},multiwidget:function(){var fo="roistat-multiwidget-hidden",fz="roistat-multiwidget-pulsator-phone",fx="roistat-multiwidget-pulsator-popup-item-lead-hunter",eT="roistat-multiwidget-pulsator-fill",fC="roistat-multiwidget-pulsator-fill-svg",fe="roistat-multiwidget-pulsator-img-icon",eS="roistat-multiwidget-pulsator-popup-item-chat",eF="roistat-multiwidget-pulsator-popup-item-facebook",eL="roistat-multiwidget-pulsator-popup-item-vk",fd="roistat-multiwidget-pulsator-popup-item-telegram",e1="roistat-multiwidget-pulsator-popup-item-whats-app",eZ="roistat-multiwidget-pulsator-popup-item-viber",fj="roistat-multiwidget-pulsator-overlay",fi="roistat-multiwidget-pulsator-items-popup-holder",e7="roistat-multiwidget-pulsator-popup-header-wrapper",fc="iframe_chat_successfully_loaded",eM="roistat-multiwidget-pulsator-popup-tail",e9="roistat-online-chat-popup-wrapper",fB="roistat-online-chat-popup-wrapper-hidden",fv="roistat-multiwidget-pulsator-holder-hidden";
var eR,fh,e2,eV,eX,fy,eC,eI,fA,e8,eO,eE,eP,eG,fr,eH;var eY=false;var e6=true;var fw={topLeft:{bottom:"unset",right:"unset",top:c9()?0:"20px",left:c9()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:c9()?0:"35px",top:c9()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:aL()?0:"20px",right:aL()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:c9()?0:"20px",right:"unset",top:"unset",left:c9()?0:"35px",transformOrigin:"bottom left"}};var eK={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var e0={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fn(fE){bT("Multiwidget: "+fE)}function fb(){fh=eq(eR,fz);e2=eq(eR,fi);eX=eq(eR,e7);eV=eq(eR,fj);e8=eq(e2,fx);fy=eq(eR,eM);eO=eq(e2,eS);eE=eq(e2,eL);eP=eq(e2,eF);eG=eq(e2,fd);fr=eq(e2,e1);eH=eq(e2,eZ);eC=eq(fh,eT);eI=fh.getElementsByClassName(fC);fA=eq(fh,fe)}function fq(){if(aL()&&ez(eV)&&ez(e2)){if(e2.classList.contains(fo)){eJ(eV)}else{fl(eV)}}}function eU(){if(ez(e2)){e2.classList.toggle(fo)}fq()}function fu(fE){if(ez(fE)){fE.classList.toggle("opened")}}function fD(){fn("add pulsator events");ey(fh,"click",function(){if(!e4()){eU()}fu(fh)});ey(eX,"click",function(){if(!e4()){eU()}fu(fh);fq()});ey(eV,"click",function(){if(!e4()){eU()}fu(fh);fq()});ey(e8,"click",function(){fn("opening leadhunter via multiwidget");cH.roistatLeadHunterShow();eU();ef(fh,"opened",false)});ey(eO,"click",function(){fn("opening online chat via multiwidget");cH.roistatOnlineChatShow();eU()});ey(eE,"click",function(){cH.open(aW.get(x),"_blank")});ey(eP,"click",function(){cH.open(aW.get(cU),"_blank")});ey(eG,"click",function(){cH.open(aW.get(dO),"_blank")});ey(fr,"click",function(){cH.open(aW.get(aY),"_blank")});ey(eH,"click",function(){cH.open(aW.get(b5),"_blank")})}function e4(){var fE=eq(cQ,e9);return ez(fE)&&!fE.classList.contains(fB)}function e5(){return ez(fi)&&!fi.classList.contains(fo)}function eJ(fE){if(ez(fE)){fE.classList.add(fo)}}function fl(fE){if(ez(fE)){fE.classList.remove(fo)}}function ff(){eJ(e8)}function e3(){fn("hiding disabled multiwidget options");var fE=Number(aW.get(cm)),fF=Number(aW.get(o)),fH=Number(aW.get(X)),fK=Number(aW.get(bd)),fG=Number(aW.get(cl)),fJ=Number(aW.get(a));var fI=0;if(!fE||!ee||!d8){fn("hiding leadhunter option");ff()}if(!ei()||!eY){fn("hiding online chat option");eJ(eO)}if(ei()){fI++}if(!fF){fn("hiding vk-messenger option");eJ(eE)}else{fI++}if(!fH){fn("hiding fb-messenger option");eJ(eP)}else{fI++}if(!fK){fn("hiding telegram-messenger option");eJ(eG)}else{fI++}if(!fG){fn("hiding whatsApp-messenger option");eJ(fr)}else{fI++}if(!fJ){fn("hiding Viber-messenger option");eJ(eH)}else{fI++}e6=fI>1;if(aL()&&e6){fn("hiding popup header");fl(eX)}}function eD(){var fF=aW.getObject(J);fn("start filling pulsator");if(fF){if(ez(eC)){eC.setAttribute("style","background: "+fF.button_color+";")}if(ez(fA)){fA.setAttribute("style","fill: "+fF.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eI)){for(var fE=0;fE<eI.length;fE++){eI[fE].setAttribute("style","fill: "+fF.button_color+";")}}}}function fk(){var fE=aW.getObject(J);return fE!==null&&typeof fE.position==="string"&&fE.position!==""?fE.position:"bottomRight"}function fg(){if(ez(eR)){var fE=fk();eR.setAttribute("style","top: "+fw[fE].top+";right:"+fw[fE].right+";bottom:"+fw[fE].bottom+";left:"+fw[fE].left+";");eR.style.transformOrigin=fw[fE].transformOrigin;eR.style.transform=ev()}}function eW(){if(ez(fh)){var fE=fk();var fF="transform: "+ed()+";";var fG=fE==="topLeft"||fE==="bottomLeft"?"margin-right":"margin-left";fh.setAttribute("style",fG+": auto;"+fF)}}function fm(){if(ez(e2)){var fE=fk();var fF=aL()?"0":eK[fE].bottom;var fG=aL()?"unset":eK[fE].top;e2.setAttribute("style","top: "+fG+";right:"+eK[fE].right+";bottom:"+fF+";left:"+eK[fE].left+";")}}function eN(){if(ez(fy)){var fE=fk();fy.setAttribute("style","top: "+e0[fE].top+";right:"+e0[fE].right+";bottom:"+e0[fE].bottom+";left:"+e0[fE].left+";border-top-color:"+e0[fE]["border-top-color"]+";border-right-color:"+e0[fE]["border-right-color"]+";border-bottom-color:"+e0[fE]["border-bottom-color"]+";border-left-color:"+e0[fE]["border-left-color"]+";")
}}function fs(){fg();eW();if(!aL()){fm();eN()}}function eQ(){if(cQ.body===null){return}var fF=be.decode(aW.get(g));if(fF){fn("appending multiwidget pulsator");var fE=cQ.createElement("div");fE.innerHTML=fF;eR=fE.childNodes.item(0);if(!cH.roistat.multiwidget.isVisible){fn("Hide widget");eR.className=eR.className+" "+fv}cQ.body.appendChild(eR);fb();e3();eD();fs();fD();if(!b){eR.classList.add("old")}}}function fa(){var fK=aW.getObject(cX);if(!fK){var fM=parseInt(aW.get(bS));fM=!isNaN(fM)?Boolean(fM):roistat.multiwidget.isEnabled;var fF=Boolean(parseInt(aW.get(o)))||roistat.multiwidget.vk.isEnabled;var fO=aW.get(x);fO=fO!=="null"?fO:roistat.multiwidget.vk.link;var fJ=Boolean(parseInt(aW.get(X)))||roistat.multiwidget.fb.isEnabled;var fN=aW.get(cU);fN=fN!=="null"?fN:roistat.multiwidget.fb.link;var fG=Boolean(parseInt(aW.get(bd)))||roistat.multiwidget.telegram.isEnabled;var fP=aW.get(dO);fP=fP!=="null"?fP:roistat.multiwidget.telegram.link;var fE=Boolean(parseInt(aW.get(cl)))||roistat.multiwidget.whatsApp.isEnabled;var fI=aW.get(aY);fI=fI!=="null"?fI:roistat.multiwidget.whatsApp.link;var fL=Boolean(parseInt(aW.get(a)))||roistat.multiwidget.viber.isEnabled;var fH=aW.get(b5);fH=fH!=="null"?fH:roistat.multiwidget.viber.link;fK={is_enabled:fM,vk:{is_enabled:fF,link:fO},fb:{is_enabled:fJ,link:fN},telegram:{is_enabled:fG,link:fP},whats_app:{is_enabled:fE,link:fI},viber:{is_enabled:fL,link:fH}}}dW(fK)}function fp(){cz(cH,"message",function fF(fI){var fH=typeof fI.data==="string"?fI.data:fI.data.message;if(fH===fc){eY=true;fl(eO)}});function fG(){if(ez(eR)){eR.style.transform=ev();fm();eN();if(!aL()){eJ(eV);eJ(eX);fl(fy)}else{fq();eJ(fy);if(e6){fl(eX)}}}}cz(cH,"resize",fG);if(en){cz(eA,"resize",fG)}function fE(){if(ez(fh)){fh.classList.toggle("opened")}}cH.roistatToggleMultiwidgetState=fE}function ft(){fa();bV();fp();fn("activated");a6(function(){eQ();if(typeof cH.onRoistatMultiwidgetInited==="function"){cH.onRoistatMultiwidgetInited()}})}ej=ff;am(ft)},onlineChat:function(){var fZ="iframe-module-created",eS="iframe_chat_successfully_loaded",f2="iframe_resize",eG="iframe-online-chat-opened",eO="iframe-online-chat-invite-message",gp="iframe-delivered-messages",f3="roistat-online-chat-init",fX="roistat-online-chat-init-with-text",fE="roistat-online-chat-open",fS="roistat-online-chat-close",gx="roistat-online-chat-reload",gh="roistat-online-chat-update-custom-params",fc="roistat-online-chat-lead_successfully_sent",f9="roistat-online-chat-translate-form",fn="roistat-online-chat-send-lead",gk="roistat_chat_id",gw="roistat_chat_session",f0="roistat_chat_custom_position",fI="roistat-online-chat-page-resized",e2=10*365*24*60*60,e6,eT,gl,eP,eW,gi,fP,fh,fN;var fD="roistat-online-chat-popup-iframe",fk="roistat-online-chat-hidden",gm="roistat-online-chat-holder",gg="roistat-online-chat-popup-wrapper",gd="roistat-multiwidget-pulsator-phone",fL="roistat-multiwidget-pulsator-items-popup-holder",e5="roistat-multiwidget-pulsator-overlay",fG="roistat-multiwidget-hidden",eH="roistat-multiwidget-pulsator-popup-item-chat",fM="roistat-online-chat-popup-wrapper-hidden",fi="roistat-online-chat-popup-mouse-track",fC="roistat-online-chat-popup-mouse-track-active",fm="roistat-online-chat-pulsator-fill",gj="roistat-online-chat-pulsator-img",fu="roistat-online-chat-pulsator-phone",gA="roistat-online-chat-pulsator-circle",eN="."+gA,gc="roistat-online-chat-pulsator-notification-circle",gy="."+gc,fa="roistat-online-chat-pulsator-fill-svg",fK="roistat-online-chat-popup-spacer",e1=".roistat-multiwidget-pulsator-items-popup",eX=".roistat-online-chat-pulsator-phone",fz=".roistat-online-chat-popup-wrapper",e4="roistat-online-chat-full-screen";var fe=99;var gf="roistat-online-chat-pulsator-notification-limit";var fj=false,gz=false,eU=false,fl=false,gC=false,fQ=0,eL=0;var f4={};var fH=".roistat-online-chat-holder";var ft="roistat-online-chat-holder-hidden";if(em()){fH=".roistat-multiwidget-pulsator-holder";ft="roistat-multiwidget-pulsator-holder-hidden";gA="roistat-multiwidget-pulsator-circle";eN="."+gA;gc="roistat-multiwidget-pulsator-notification-circle";gy="."+gc;gf="roistat-multiwidget-pulsator-notification-limit"}var gq;var gv={topLeft:{bottom:"unset",right:"unset",top:aL()?"10px":"20px",left:aL()?"24px":"35px"},topRight:{bottom:"unset",right:aL()?"24px":"35px",top:aL()?"10px":"20px",left:"unset"},bottomRight:{bottom:aL()?"10px":"20px",right:aL()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:aL()?"10px":"20px",right:"unset",top:"unset",left:aL()?"24px":"35px"}};var gF=function(){return{topLeft:{top:aL()?"unset":"130px",right:"unset",bottom:aL()?"0px":"unset",left:aL()?0:"65px"},topRight:{top:aL()?"unset":"130px",right:aL()?0:"65px",bottom:aL()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:aL()?0:"65px",bottom:aL()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:aL()?0:"130px",left:aL()?0:"65px"}}};var gn={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};
var fW=function(gG){bT("onlineChat: "+gG)};var fb=function(){function gG(){return Math.random().toString(36).substr(2,8)}return gG()+gG()+gG()+gG()};var fJ=function(){var gG=cQ.querySelector('meta[name="viewport"]');if(ez(gG)){return gG.getAttribute("content")}return null};var eM=fJ();var fR="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eV=function(){var gG=cG(gw);if(!gG){gG=aW.get(gw)}if(!gG){gG=fb();var gH={expires:e2,path:"/"};if(N.domain){gH.domain=N.domain}aW.save(gw,gG,gH)}return gG};var eK=function(){var gG={message:fZ,detail:{version:c2,language:a7,projectKey:dv(),visitId:aA(),firstVisit:bX(),chatId:cG(gk),moduleTargetOrigin:cH.location.origin,referrer:cH.location.href,params:et,sessionUniqueKey:eV(),isOpened:go(),isMobile:aL()}};gi.contentWindow.postMessage(gG,gi.src)};var e7=function(){var gG={message:eG,detail:{isOpened:go(),isMobile:aL()}};gi.contentWindow.postMessage(gG,gi.src)};var e9=function(){var gG={message:gh,detail:{params:et,isMobile:aL()}};gi.contentWindow.postMessage(gG,gi.src)};var eD=function(){var gG={language:a7,message:f9};gi.contentWindow.postMessage(gG,gi.src)};var fd=function(gH){var gG={message:fX,detail:{message:gH,isMobile:aL()}};gi.contentWindow.postMessage(gG,gi.src)};var gE=function(gG){var gH={message:fE,detail:{chatId:gG,isMobile:aL()}};gi.contentWindow.postMessage(gH,gi.src)};var e0=function(){cH.focus();if(typeof cH.roistatOnlineChatToggle==="function"){cH.roistatOnlineChatToggle()}if(typeof cH.roistatToggleMultiwidgetState==="function"){cH.roistatToggleMultiwidgetState()}eQ(gq)};var e3=function(){var gG={message:fI,detail:{isMobile:aL()}};gi.contentWindow.postMessage(gG,gi.src)};var eY=function(gG){var gH={message:f2,isFullScreen:gC,iframeStyles:gG};gi.contentWindow.postMessage(gH,gi.src)};var gb=function(gG){var gH={expires:e2,path:"/"};if(N.domain){gH.domain=N.domain}dT(gk,{path:"/"});a0(gk,gG,gH)};var ga=function(){cz(cH,"message",function gG(gJ){var gI=typeof gJ.data==="string"?gJ.data:gJ.data.message;var gH=typeof gJ.data!=="string"?gJ.data.detail:{};switch(gI){case eS:fW("event: "+gI+" "+JSON.stringify(gH));ge();cH.setRoistatOnlineChatCustomParams=fq;fq(et);if(typeof cH.onRoistatOnlineChatInited==="function"){cH.onRoistatOnlineChatInited()}break;case fZ:fW("event: "+gI+" "+JSON.stringify(gH));gz=true;eK();if(eU){eU=false;if(ez(gl)){gl.classList.remove(fM);e7()}}break;case f3:fW("event: "+gI+" "+JSON.stringify(gH));fW("saving chat id = "+gH.chatId);gb(gH.chatId);break;case fX:fW("event: "+gI+" "+JSON.stringify(gH));fW("saving chat with text id = "+gH.chatId);if(cH.onRoistatChatInit!==dZ&&typeof cH.onRoistatChatInit==="function"){cH.onRoistatChatInit(gH.chatId)}gb(gH.chatId);cH.roistatOnlineChatShow();break;case fE:fW("event: "+gI+" "+JSON.stringify(gH));fW("saving chat id by open chat = "+gH.chatId);gb(gH.chatId);cH.roistatOnlineChatShow();break;case fS:fW("event: "+gI+" "+JSON.stringify(gH));e0();break;case eO:fW("event: "+gI+" "+JSON.stringify(gH));fW("rendering invite message");f5(gH.message);break;case gp:fW("event: "+gI+" "+JSON.stringify(gH));fW("get delivered messages");gD(gH.messages);break;case f2:fW("event: "+gI+" "+JSON.stringify(gH));gC=gJ.data.isFullScreen;if(aL()){eY({});return}Object.assign(f4,{width:gi.getBoundingClientRect().width,height:gi.getBoundingClientRect().height,borderRadius:cH.getComputedStyle(gi).borderRadius});gi.classList.toggle(e4,gC);gi.style.transition="unset";if(gC){Object.assign(f4,{top:gl.style.top,right:gl.style.right,bottom:gl.style.bottom,left:gl.style.left});gl.style.top=0;gl.style.right=0;gl.style.bottom=0;gl.style.left=0;gl.style.transition="unset"}else{gl.style.top=f4.top;gl.style.right=f4.right;gl.style.bottom=f4.bottom;gl.style.left=f4.left;f4={};setTimeout(function(){gi.style.transition="height 0.5s ease-in";gl.style.transition="all 0.3s"},30)}eY(f4);break;case fn:fW("event: "+gI+" "+JSON.stringify(gH));fW("sending lead");e8(gH.leadData)}})};var fp=function(){var gH=cH.roistat.onlineChat.notificationsCustomHolderSelector;var gG=gH!==null;return cQ.querySelector(gG?gH:fH)};var e8=function(gG){cH.roistatGoal.reach(gG,function(){gi.contentWindow.postMessage(fc,gi.src)})};var f5=function(gN){if(go()){return}var gI="<div class='roistat-online-chat-message'><img src='"+gN.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gN.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gN.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gM=cQ.createElement("div");gM.innerHTML=gI;var gL=fp();if(ez(gL)){var gO=fO()?"beforeend":"afterbegin";gL.insertAdjacentHTML(gO,gI);var gK=gL.getElementsByClassName("roistat-online-chat-message-close");var gG=gL.getElementsByClassName("roistat-online-chat-message");
var gJ=gK[fO()?gK.length-1:0];var gH=gG[fO()?gK.length-1:0]}setTimeout(function(){gH.remove()},15000);ey(gH,"click",function(gP){gP.stopPropagation();if(!go()){f7()}gr()});ey(gJ,"click",function(gP){gP.stopPropagation();gH.remove()})};var gD=function(gI){var gM=fp();if(ez(gM)){var gN=gM.querySelector(eN);var gH=gM.querySelector(gy);var gL=gI>fe;var gK=gL?fe+"+":gI;if(gH&&!gI){gH.remove();return}if(gH){gH.textContent=gK;gH.classList.toggle(gf,gL);return}if(gI){var gG=gL?gf:"";var gJ='<div class="'+gc+gG+'">'+gK+"</div>";gN.insertAdjacentHTML("beforebegin",gJ)}}};var gr=function(){var gH=fp();if(ez(gH)){var gG=gH.getElementsByClassName("roistat-online-chat-message");while(gG.length>0){gG[0].remove()}}};var gu=function(){gi=cQ.getElementById(fD);if(ez(gi)){ey(gi,"load",function(){fB()})}ey(cQ,"click",function(gL){var gK=cH.roistat.onlineChat.customTriggerSelector;if(em()){var gM=eq(cQ,gd);var gJ=eq(cQ,eH);var gI=go()&&gL.target!==gJ&&!gJ.contains(gL.target);if(gI){ef(gM,"opened",false)}}else{var gG=eq(cQ,gm);var gH=go()&&gL.target!==gG&&!gG.contains(gL.target);if(gH){ef(gG,"opened",false)}}if(go()&&(gL.target.closest(e1)===null&&gL.target.closest(fz)===null&&gL.target.closest(eX)===null&&(gK?gL.target.closest(gK)===null:true))){f7()}})};var eE=function(gI){var gH=gl.getBoundingClientRect().x;var gG=gl.getBoundingClientRect().y;fl=true;eJ();fQ=gI.pageX-gH;if(fO()){eL=gI.pageY+gG}else{eL=gI.pageY-gG}};var fs=function(){fl=false;f6();ff()};var eJ=function(){if(ez(eT)){eT.classList.add(fC)}};var f6=function(){if(ez(eT)){eT.classList.remove(fC)}};var fT=function(gO){if(fl&&ez(gl)){var gG=gl.getBoundingClientRect();var gN=gG.width;var gM=400;var gH=50;var gR=0;var gJ=cH.innerHeight-gM;var gP=gO.pageX-fQ;var gL=gH;var gI=cH.innerWidth-gH-gN;if(fO()){gR=cH.innerHeight-(gO.pageY+gG.y)-20}else{gR=gO.pageY-eL}var gQ=gt();var gK=gQ==="bottomLeft"||gQ==="bottomRight"?"top":"bottom";if(gP>=gL&&gP<=gI){gl.style.left=gP+"px";if(!gB()){gl.style.right="unset"}}if(gR>=50&&gR<=gJ){gl.style[gK]=gR+"px"}}};var ff=function(){var gG={position:gt(),top:gl.style.top,left:gl.style.left,bottom:gl.style.bottom,right:gl.style.right};aW.setObject(f0,gG)};var gt=function(){var gG=aW.getObject(J);var gH=gG!==null&&typeof gG.position==="string"&&gG.position!=="";return gH?gG.position:"bottomRight"};var fO=function(){var gG=gt();return gG==="topLeft"||gG==="topRight"};var gB=function(){var gG=gt();return gG==="topLeft"||gG==="bottomLeft"};var fg=function(gH){var gG=Math.max(gH*eB(),gH)+"px";eP.style.height=gG;eP.style.marginBottom="-"+gH+"px"};var eR=function(){var gK=gt();var gN=cH.roistat.onlineChat.customPosition;var gM=gF();var gQ=gN&&gN.top!==null?gN.top:gM[gK].top;var gI=gN&&gN.right!==null?gN.right:gM[gK].right;var gG=gN&&gN.bottom!==null?gN.bottom:gM[gK].bottom;var gJ=gN&&gN.left!==null?gN.left:gM[gK].left;gl=eq(e6,gg);if(ez(gl)){gl.classList.add(fM);gl.setAttribute("style","visibility: hidden;top: "+gQ+";right:"+gI+";bottom:"+gG+";left:"+gJ+";");eP=eq(e6,fK);if(ez(eP)){var gO=parseInt(gQ==="unset"?gG:gQ);fg(gO);var gP=function(){if(aL()){gl.style.height=cH.visualViewport.height+"px"}else{gl.style.height="unset"}};gP();cH.addEventListener("resize",function gH(){fg(gO);gP();e3()});if(en){eA.addEventListener("resize",function gL(){fg(gO);gP();e3()})}}}};var gs=function(){var gG=gt();var gH=function(){if(ez(gl)&&!gC){var gK=gF();gl.style.right=gK[gG].right;gl.style.left=gK[gG].left;gl.style.top=gK[gG].top;gl.style.bottom=gK[gG].bottom}};cH.addEventListener("resize",function gJ(){gH()});if(en){eA.addEventListener("resize",function gI(){gH()})}};var fr=function(){if(ez(eT)){var gG=gt();eT.setAttribute("style","top: "+gn[gG].top+";bottom:"+gn[gG].bottom+";height:"+gn[gG].height+";")}};var fo=function(){if(ez(gq)){var gG=gt();gq.setAttribute("style","top: "+gv[gG].top+";right:"+gv[gG].right+";bottom:"+gv[gG].bottom+";left:"+gv[gG].left+";")}};var fw=function(){if(cQ.body===null){return}fW("iframe appending to page");var gG=be.decode(aW.get(bh));e6=cQ.createElement("div");e6.innerHTML=gG;cQ.body.appendChild(e6);eT=eq(cQ,fi);eR();gs();gu()};var fy=function(){var gH=aW.getObject(J);fW("start filling pulsator");if(gH){if(ez(fP)){fP.setAttribute("style","background: "+gH.button_color+";")}if(ez(fh)){fh.setAttribute("style","fill: "+gH.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fN)){for(var gG=0;gG<fN.length;gG++){fN[gG].setAttribute("style","fill: "+gH.button_color+";")}}}};var ge=function(){if(cQ.body===null){return}var gH=be.decode(aW.get(m));var gJ=!ab()&&cH.roistatOnlineChatOnly;var gI=(gH&&!em()&&ei())||gJ;if(gI){fW("pulsator appending to page");var gG=cQ.createElement("div");gG.innerHTML=gH;gq=gG.childNodes.item(0);if(!cH.roistat.multiwidget.isVisible){fW("Hide widget");gq.className=gq.className+" "+ft}fP=eq(gq,fm);fh=eq(gq,gj);eW=eq(gq,fu);fN=cQ.getElementsByClassName(fa);cQ.body.appendChild(gq);fo();eZ();fy()}};var eZ=function(){if(ez(gq)){ey(gq,"click",function(){f7();eQ(gq)})}};function eQ(gG){if(ez(gG)){gG.classList.toggle("opened")
}}var go=function(){return ez(gl)&&!gl.classList.contains(fM)};function fF(){var gG=cQ.querySelector("#roistat-theme-color");if(ez(gG)){gG.remove()}}function eI(){var gG=cQ.createElement("meta");if(ez(gG)){gG.setAttribute("name","theme-color");gG.setAttribute("content","#2589FF");gG.setAttribute("id","roistat-theme-color");cQ.head.prepend(gG)}}var fY=function(){if(!go()){fF();fA();return}var gG=Boolean(cQ.querySelector("#roistat-theme-color"));if(de.Android()||de.iOS()){f1();if(!gG){eI()}}};var f1=function(){var gG=cQ.querySelector('meta[name="viewport"]');if(!ez(gG)){gG=cQ.createElement("meta");gG.setAttribute("name","viewport");cQ.head.appendChild(gG)}gG.setAttribute("content",fR)};function fA(){var gG=cQ.querySelector('meta[name="viewport"]');if(ez(gG)&&eM!==null){gG.setAttribute("content",eM);return}if(ez(gG)){gG.remove()}}var f7=function(){setTimeout(function(){fl=false},3000);if(ez(gl)){gl.classList.toggle(fM);fY()}if(go()){gr()}e7()};var fV=function(){var gG=fp();if(ez(gG)){gG.classList.toggle(ft)}};var fv=function(gG){a7=gG;if(!ez(gi)){return}eD()};var fx=function(gG){if(!ez(gi)){return}fd(gG)};var eC=function(gG){if(!ez(gi)){return}gE(gG)};function f8(gG){if(ez(gG)){gG.classList.add(fG)}}var fB=function(){fj=true;var gG=function(){setTimeout(function(){var gJ=null;if(em()){gJ=eq(cQ,gd)}else{gJ=eq(cQ,gm)}if(go()){ef(gJ,"opened",false)}else{ef(gJ,"opened",true);var gH=eq(cQ,fL);var gI=ez(gH)&&!gH.classList.contains(fG);if(gI){var gK=eq(cQ,e5);f8(gH);f8(gK)}}f7()},0)};cH.roistatOnlineChatShow=gG;cH.roistatOnlineChatToggle=gG;cH.roistatMultiwidgetShow=fV;fW("chat window initialized")};function fq(gG){d9(gG);e9()}function eF(){var gG=aW.getObject(aX);if(typeof gG!=="object"||gG===null||typeof gG.auto_open_chat!=="object"||!gG.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gz){eU=true;return}if(ez(gl)){gl.classList.remove(fM);e7()}},gG.auto_open_chat.delay_in_seconds*1000)}function fU(){bV();a6(function(){fw();ga();eF()})}cH.roistat.onlineChat.actions.initWithMessage=fx;cH.roistat.onlineChat.actions.openChat=eC;cH.roistat.onlineChat.localization.translateToRussian=function(){fv(a1)};cH.roistat.onlineChat.localization.translateToEnglish=function(){fv(di)};cH.roistat.onlineChat.localization.translate=function(gJ){var gI=aS[a1].includes(gJ),gH=aS[di].includes(gJ),gG=gJ;if(gI){gG=a1}if(gH){gG=di}fv(gG)};am(fU)}};function ep(eC){bT("Widgets: "+eC)}function e(eC){return eC!==ex}function d9(eE){var eD=Object.keys(eE);for(var eC=0;eC<eD.length;eC++){et[eD[eC]]=eE[eD[eC]]}}function em(){var eK=Number(aW.get(cm)),eD=eK&&ee&&d8,eO=Number(aW.get(bS)),eG=ei(),eL=Number(aW.get(o)),eH=Number(aW.get(X)),eC=Number(aW.get(bd)),eF=Number(aW.get(cl)),eN=Number(aW.get(a)),eM=eD||eG||eL||eH||eC||eF||eN,eE=eD&&!eG&&!eL&&!eH&&!eC&&!eF&&!eN,eJ=eG&&!eD&&!eL&&!eH&&!eC&&!eF&&!eN,eP=!ab()&&cH.roistatOnlineChatOnly,eI=ab()&&cM();bT("Is online chat only: "+eP);bT("Is rp: "+eP);return eO&&eM&&!eJ&&!eE&&!eP&&!eI}function ei(){var eC=Number(aW.get(bH));if(!eC){bT("OnlineChat: Online chat is disabled");return false}var eD=aW.getObject(aX);if(eD===null){return false}if(!eD.is_available_for_current_user_agent){bT("OnlineChat: Current device group is disabled");return false}if(!eD.pages_filter.is_enabled){bT("OnlineChat: Pages filter is disabled");return true}return cD(eD.pages_filter.pages.join(","))}function ej(){ep("Multiwidget disabled. Hide leadhunter pulsator from module")}function eb(eC,eE,eD){aW.setLocal(c7,be.encode(eC));aW.setLocal(bF,be.encode(eE));aW.setObject(ce,eD)}function eh(eD,eC){aW.setLocal(g,be.encode(eD));aW.setObject(J,eC)}function eg(eE,eC,eD){aW.setLocal(m,be.encode(eE));aW.setLocal(bh,be.encode(eC));aW.set(bH,eD)}function el(eC,eE,eD){eb(eC,eE,eD);aW.setLocal(g,be.encode(ex));aW.setLocal(bh,be.encode(ex));eo=false;eu.leadHunter()}function ea(eN,eJ,eH){var eE=eN.form_template,eO=eN.pulsator_template,eG=eN.pulsator_settings;if(cM()){el(eE,eO,eG);return}ep("start initing widgets");var eK=eH.pulsator_template,eF=eH.iframe_template,eM=eJ.pulsator_template,eC=eJ.pulsator_settings,eI=Number(aW.get(cm)),eD=Number(eH.settings.is_enabled),eL=aW.getObject(bl)!==null;eb(eE,eO,eG);eh(eM,eC);eg(eK,eF,eD);if(eL){aW.setLocal(c7,be.encode(ec()))}eo=true;if(eI&&!aJ()){ep("leadhunter enabled. Start processing");eu.leadHunter()}if(ei()){ep("online chat enabled. Start processing");eu.onlineChat()}if(em()){ep("multiwidget enabled. Start processing");eu.multiwidget()}}var ec=function(){var eC=z(cN()+"//"+b6+"/api/site/1.0/"+dv()+"/leadhunter/script/"+aW.get(bC)+"/widget");return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+eC+'" frameborder="0"></iframe></div>'};function ew(){var eE=aW.get(c7),eP=aW.get(bF),eG=aW.getObject(ce),eJ=Number(aW.get(cm)),eK=aW.get(m),eF=aW.get(bh),eD=aW.get(bH),eM=aW.get(g),eC=aW.getObject(J);cH.roistatLeadhunterForm=el;cH.roistatMultiwidget=ea;if(!eE||!eP||!eG||!eM||!eC||!eK){ep("requesting data from server");if(em()||ei()||eJ){da(cN()+"//"+b6+"/api/site/"+d+"/"+dv()+"/multiwidget?domain="+encodeURIComponent(cQ.domain))
}}else{var eO=be.decode(eM);var eL=be.decode(eF);if((!e(eO)||!e(eL)||cM())&&!aJ()){ep("initing LeadHunter form");cH.roistatLeadhunterForm(be.decode(eE),be.decode(eP),eG)}else{ep("initing multiwidget form");var eH={pulsator_template:eO,pulsator_settings:eC},eI={form_template:be.decode(eE),pulsator_template:be.decode(eP),pulsator_settings:eG},eN={iframe_template:eL,pulsator_template:be.decode(eK),settings:{is_enabled:Number(eD)}};cH.roistatMultiwidget(eI,eH,eN)}}}function ek(){ew();ep("form initialized")}function es(){ep("activated");ek()}am(es);cH.setRoistatOnlineChatCustomParams=d9;cH.roistatSaveLeadHunterTemplates=eb;cH.roistatSaveMultiwidgetTemplate=eh;cH.roistatSaveOnlineChatTemplate=eg})();(function br(){var el=function(){return cG(b1)};var eb=function(){return cG(cS)};var ej=function(){return aW.get(a3)};var ec=function(){return aW.get(cc)};var ep=function(er){return er!=null&&er!==dZ&&er!==""};var eo=function(){var er=[];var es=cQ.getElementsByClassName(dP);if(es&&es.length){er=es}return er};var d9=function(){var er=[];var es=cQ.getElementsByClassName(dc);if(es&&es.length){er=es}return er};var d8=function(){var er=[];var es=cQ.getElementsByClassName(bZ);if(es&&es.length){er=es}return er};var ee=function(){var er=[];var es=cQ.getElementsByClassName(w);if(es&&es.length){er=es}return er};var eh=function(){var er=[];var es=cQ.getElementsByClassName(a5);if(es&&es.length){er=es}return er};var e=function(ey,ez,ew){bT("CallTracking: RenderPhone phone = "+ey);var es=function(eL){return eL.split(/[^0-9]/).join("")};var eH=function(eO,eQ){var eT=null;if(!eO){return eT}var eL=eQ.split(",");if(eL.length<2){eT=eQ}else{var eM=eO.getAttribute("data-prefix");if(eM){for(var eP=0;eP<eL.length;eP++){var eR=eL[eP];var eS=es(eR);if(eS.indexOf("8")===0){eS="7"+eS.substring(1)}var eN=eS.split(eM)[0]==="";if(eN){eT=eR;break}}}if(eT===null){eT=eL[0]}bT("CallTracking._getPhoneForElement: Prepared phone = "+eT+" for data-prefix = "+eM)}return eT};var eI=function(eQ,eO,eN){var eR=eH(eQ,eO);var eL=eN||eR;if(!eL||!eQ){return}if(eQ.tagName.toLowerCase()!=="a"){return}var eP=eQ.getAttribute("href");if(bR(eP,"tel:")){var eM=eN;if(!eM){eM=es(eL);if(eM.indexOf("8")===0){eM="7"+eM.substring(1)}}eQ.setAttribute("href","tel:+"+eM);eu(eQ,eR)}};var eu=function(eM,eL){if(!eM.hasAttribute("title")){return}eM.setAttribute("title",eL)};var eC=function(eN,eM){var eL=eH(eN,eM);if(!eL||!eN){return}eN.innerHTML=eL};var et=/^\D*(\d+)(?:[(|\s])/;var ex=/\((\d+)\)|\s(\d+)\s/;var ev=/(\(\d+\)|\s\d+\s)(.+)/;var eD=function(eN,eQ){var eM=eH(eN,eQ);var eP=eM.match(et);var eO=A(eP)?eP[1]:"";var eR=eM.match(ex);var eL=(A(eR)?(eR[1]||eR[2]):"").trim();var eS=eM.match(ev);var eT=(A(eS)?eS[2]:"").trim();return{country:eO,region:eL,number:eT}};var eJ=function(eM,eL){var eN=eo();bT("CallTracking: render phone default classes for "+eN.length+" elements");d7(eN,function(eO){eC(eO,eM);eI(eO,eM,eL)});d7(d9(),function(eP){var eO=eD(eP,eM).country;eC(eP,eO)});d7(d8(),function(eP){var eO=eD(eP,eM).region;eC(eP,eO)});d7(ee(),function(eO){var eP=eD(eO,eM).number;eC(eO,eP)});d7(eh(),function(eO){eI(eO,eM,eL)})};var eF=function(eR,eM,eN){if(!eN){return}bT("CallTracking: render phone user replacement for "+eN.length+" replacements");for(var eP=0;eP<eN.length;eP++){var eS=eN[eP];if(!eS){continue}var eT=eS[0];eS=eS.substr(1);var eL=[];if(eT==="#"){var eQ=cQ.getElementById(eS);if(eQ!==null){eL.push(eQ)}}else{eL=cQ.getElementsByClassName(eS);eK(eS,eR,eM)}if(!eL||eL.length<1){continue}bT("CallTracking: render phone for "+eS+", "+eL.length+" elements");for(var eO=0;eO<eL.length;eO++){eC(eL[eO],eR);eI(eL[eO],eR,eM)}}};var eE=function(eL){for(var eM=0;eM<eL.length;eM++){eF(eL[eM].phone,eL[eM].raw_phone,eL[eM].css_selectors);eB(eL[eM].phone,eL[eM].raw_phone,eL[eM].replaceable_numbers)}};var eB=function(eO,eN,eM){if(!eM||eM.length===0){return}var eL=function(){var eZ=eS();var eY=cQ.getElementsByTagName("*");var eT=eY.length;for(var eX=0;eX<eT;eX++){var e0=eY[eX];eP(e0,eZ,eH(e0,eO));var eW=e0.childNodes.length;for(var eU=0;eU<eW;eU++){var eV=e0.childNodes[eU];eR(eV,eZ,eH(eV,eO))}}};var eP=function(eX,eW,eT){if(!eQ(eX)){return}var eY=eX.getAttribute("href").replace("tel:","");var eV=eW.length;for(var eU=0;eU<eV;eU++){if(eW[eU].test(eY)){eI(eX,eH(eX,eT),eN)}}};var eQ=function(eU){if(eU.tagName.toLowerCase()!=="a"){return false}var eT=eU.getAttribute("href");return cL(eT)&&eT.indexOf("tel:")===0};var eS=function(){var eV=[];for(var eT=0;eT<eM.length;eT++){var eU="[\\s()[\\]{}\\-+.]*";var eW=eM[eT].split("").join(eU);eV.push(new RegExp("[+(]?"+eW,"g"))}return eV};var eR=function(eW,eV,eT){if(eW.nodeType!==Node.TEXT_NODE){return}for(var eU=0;eU<eV.length;eU++){if(eW.textContent&&eV[eU].test(eW.textContent)){eW.textContent=eW.textContent.replace(eV[eU],eT)}else{if(eW.innerText&&eV[eU].test(eW.innerText)){eW.innerText=eW.innerText.replace(eV[eU],eT)}}}};eL()};var eK=function(eN,eM,eL){d7(eG(eN+"-"+dx),function(eP){var eO=eD(eP,eM).country;eC(eP,eO)});d7(eG(eN+"-"+dE),function(eP){var eO=eD(eP,eM).region;
eC(eP,eO)});d7(eG(eN+"-"+bG),function(eO){var eP=eD(eO,eM).number;eC(eO,eP)});d7(eG(eN+"-"+dd),function(eO){eI(eO,eM,eL)})};var eG=function(eM){var eL=[];var eN=cQ.getElementsByClassName(eM);if(eN&&eN.length){eL=eN}return eL};var eA=function eA(){var eM=ec();if(eM){eM=eM.split("\n");for(var eL=0;eL<eM.length;eL++){eM[eL]="."+eM[eL]}}if(ew instanceof Array){eE(ew)}else{eJ(ey,ez);eF(ey,ez,eM)}};(function er(){eA();var eL=[300,5000,15000];eL.forEach(function(eM){setTimeout(eA,eM)})})()};var ea=function(er){aW.save(ai,er,N)};var ek=function(){if(cH.roistat.callTracking.phone){var er={expires:parseInt(cH.roistat.callTracking.sessionTime),path:"/"};if(N.domain){er.domain=N.domain}a0(b1,cH.roistat.callTracking.phone,er);a0(cS,cH.roistat.callTracking.rawPhone,er);ea(1);aW.save(cc,cH.roistat.callTracking.replacementClasses,N);aW.save(a3,cH.roistat.callTracking.phoneScriptsJson,N)}};var ei=function(et,ex,ev,eu,es){bT("CallTracking: reuse phone "+et+" for time "+ex+" and replacements "+ev);var er='script[data-roistat-script-id="'+b7+'"]';cQ.querySelectorAll(er).forEach(function(eA,ez){if(ez===0){return}eA.remove()});bT("CallTracking: all old scripts removed");if(!ep(et)){bT("CallTracking: new phone is invalid");roistat.callTracking.phone=null;co();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=et;roistat.callTracking.sessionTime=ex;roistat.callTracking.replacementClasses=ev;roistat.callTracking.phoneScriptsJson=eu;roistat.callTracking.rawPhone=es;co();ek();var ey={expires:parseInt(ex),path:"/"};if(N.domain){ey.domain=N.domain}a0(b1,et,ey);a0(cS,es,ey);aW.save(a3,eu,N);aW.save(cc,ev,N);var ew=a9(eu);e(et,es,ew)};var ed=function(){bT("CallTracking: request new phone");var er=cG(aZ);var ev=bv();var eu=ev?ev:dX;var et=encodeURIComponent(l);var es=bW()+"/get-phone?visit="+er+"&marker="+(eu?eu:"")+"&prefix="+c+"&prefix_bind="+aH+"&phone_scripts_bind="+cx+"&page="+et;da(es,b7)};var ef=function(){c=cH.roistatPhonePrefix?cH.roistatPhonePrefix:"";aH=cH.roistatPhonePrefixBind?cH.roistatPhonePrefixBind:"";cx=cH.roistatCalltrackingScripts&&cH.roistatCalltrackingScripts.join?cH.roistatCalltrackingScripts.join(","):"";bT("CallTracking: refresh phone with prefix: "+c+", binding: "+aH+", scripts: "+cx);ed()};var eq=function(){var er=aW.get(ai)>0;var es=K.callTrackingEnabled;return er&&es};var eg=function(er){ea(er.is_enabled)};var en=function en(){var es=el();if(!ep(es)){bT("CallTracking: invalid phone "+es+", requesting a new one");ed()}else{bT("CallTracking: render phone "+es);var er=eb();var et=a9(ej());e(es,er,et)}};var em=function(){bT("CallTracking: init");if(aJ()){bT("CallTracking: Shut down because only online chat need to be inited");return}ek();if(!eq()){bT("CallTracking: disabled, skip");return}if(K.callTrackingManual){bT("CallTracking: init finish because off manual");return}en();db(en)};cH.roistatCallTrackingRefresh=ef;cH.roistatRequestNewPhone=ed;cH.roistatReusePhone=ei;cH.roistatCalltrackingUpdateSettings=eg;am(em)})();(function bJ(){var d9=function(ef){bT("Emailtracking: "+ef)};var ed=function(ef,eh,eg){aW.save(u,ef,N);aW.save(cT,eh,N);aW.save(bx,JSON.stringify(eg),N)};var d8=function(){var ef=(cH.roistat.emailtracking.email&&cH.roistat.emailtracking.trackingEmail)||B(cH.roistat.emailtracking.emails);if(cH.roistat.emailtracking.loaded&&ef){d9("save loaded email: "+cH.roistat.emailtracking.email);ed(cH.roistat.emailtracking.email,cH.roistat.emailtracking.trackingEmail,cH.roistat.emailtracking.emails)}else{d9("settings save skip, because not loaded");cH.roistat.emailtracking.email=aW.get(u);cH.roistat.emailtracking.email=cH.roistat.emailtracking.email?cH.roistat.emailtracking.email:null;cH.roistat.emailtracking.email=cH.roistat.emailtracking.email==="null"?null:cH.roistat.emailtracking.email;d9("email loaded from storage: "+cH.roistat.emailtracking.email);cH.roistat.emailtracking.trackingEmail=aW.get(cT);cH.roistat.emailtracking.trackingEmail=cH.roistat.emailtracking.trackingEmail?cH.roistat.emailtracking.trackingEmail:null;cH.roistat.emailtracking.trackingEmail=cH.roistat.emailtracking.trackingEmail==="null"?null:cH.roistat.emailtracking.trackingEmail;d9("tracking email loaded from storage: "+cH.roistat.emailtracking.trackingEmail);cH.roistat.emailtracking.emails=a9(aW.get(bx));cH.roistat.emailtracking.emails=cH.roistat.emailtracking.emails?cH.roistat.emailtracking.emails:null;d9("emails loaded from storage: "+JSON.stringify(cH.roistat.emailtracking.emails))}};var eb=function(ef){ed(ef.email,ef.trackingEmail,ef.emails)};var ea=function(){var ef=(!!cH.roistat.emailtracking.email&&!!cH.roistat.emailtracking.trackingEmail)||B(cH.roistat.emailtracking.emails);return cH.roistat.emailtracking.enabled&&ef};var e=function(){if(!ea()){d9("emailtracking disabled, skip swapping");return}var eg=function(el,em,ek){if(el.href){var ej=bP(el.href);if(em.test(ej)){el.href=ej.replace(em,ek);return true}}if(el.nodeType!==3){return false}if(el.textContent&&em.test(el.textContent)){el.textContent=el.textContent.replace(em,ek);
return true}else{if(el.innerText&&em.test(el.innerText)){el.innerText=el.innerText.replace(em,ek);return true}}return false};var ef=function(ej){return ej.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var eh=function(el,ek){var ej=!ek.match(/[a-z]/);return ej?el.toUpperCase():el};var ei=function(er,et){var eu=ef(er);var el=new RegExp("(^|\\s)(mailto:)?("+eu+")($|\\s|\\?)","gi");var ev=function(eA,ey,ew,ex,ez){ew=ew||"";return ey+ew+eh(et,ex)+ez};d9("starting to replace email "+er+" to "+et+" with regexp "+el);var ek=cQ.getElementsByTagName("*");var en=ek.length;d9("found "+en+" nodes on page");var eq=0;for(var ep=0;ep<en;ep++){var em=ek[ep];var es=em.childNodes.length;if(es>0){for(var eo=0;eo<es;eo++){var ej=em.childNodes[eo];if(eg(ej,el,ev)){eq++}}}if(eg(em,el,ev)){eq++}}d9("successfully replaced "+eq+" nodes")};if(cH.roistat.emailtracking.emails){c6(cH.roistat.emailtracking.emails,ei)}else{ei(cH.roistat.emailtracking.email,cH.roistat.emailtracking.trackingEmail)}};var ec=function(){d9("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var ee=function(){d9("init");if(aJ()){d9("Shut down because only online chat need to be inited");return}db(ec);d8();ec()};cH.roistatEmailtrackingUpdateSettings=eb;cH.roistat.emailtracking.refresh=e;am(ee)})();(function c1(){var ea=function(ec){bT("MultiDomain: "+ec)};var d9=function(){return aW.get(dC)>0};var d8=function(eg){var eh=function(ej){if(!ej){return false}if(bR(ej,"roistat_visit")){return false}var ei=dU(ej);var el=dU(cQ.domain);var ek=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return ei!==el&&ek.test(ej)};var ef=function(el){var em=el.split("#");var ek=em[0].split("?");var ei="";var ej="";if(ek.length===2){ei=ek[1]}if(ei){ej="&"}ei=ei+ej+"roistat_visit="+roistat.getVisit();ek[1]=ei;em[0]=ek.join("?");return em.join("#")};if(eg.tagName.toLowerCase()!=="a"){return}var ee=eg.getAttribute("href");var ed=false;if(eh(ee)){var ec=ef(ee);ea("update url "+ee+" > "+ec);eg.setAttribute("href",ec);ed=true}return ed};var e=function(){if(!d9()){ea("disabled, skip");return}var ec=cQ.getElementsByTagName("a");var ed=ec.length;ea("found "+ed+" <a> nodes on page");var eg=0;for(var ee=0;ee<ed;ee++){var ef=ec[ee];if(d8(ef)){eg++}}ea("replaced "+eg+" nodes")};var eb=function(){ea("init");if(aJ()){ea("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};am(eb);db(eb)})();(function Y(){var e=60*1000;var ee=2*60*1000;var d8=function(eg){bT("SettingsUpdater: "+eg)};var ec=function(){aW.set(ch,cE())};var ed=function(){var eh=cR();var eg=!(eh>0);d8("is first update check: lastUpdateTime="+eh+", result="+(eg?1:0));return eg};var ef=function(){var ei=cE()-ee;var eh=cR();var eg=eh<=ei;d8("expiration check: _minTime="+ei+", lastUpdateTime="+eh+", result="+(eg?1:0));return eg};var d9=function(eh){var eg=cG(aZ);cy(eg,eh)};var ea=function(eh){d8("update settings and save last update time");var eg=aW.getObject(bl)!==null;if(eg){var ei=a9(eh.js_settings.leadHunterTargetPagesMap);if(ei!==null){aW.setObject(bl,ei)}}cH.roistatCalltrackingUpdateSettings(eh.calltracking);cH.roistatEmailtrackingUpdateSettings(eh.emailtracking);cH.roistatSaveLeadHunterTemplates(eh.leadhunter_templates.form_template,eh.leadhunter_templates.pulsator_template,eh.leadhunter_templates.pulsator_settings);cH.roistatSaveMultiwidgetTemplate(eh.multiwidget_templates.pulsator_template,eh.multiwidget.pulsator_settings);cH.roistatSaveOnlineChatTemplate(eh.online_chat_templates.pulsator_template,eh.online_chat_templates.iframe_template);cH.roistatSaveProxyFormSettings(eh.proxy_forms);G(eh.js_settings);dW(eh.multiwidget.multiwidget_settings);aq(eh.online_chat);cV(eh.geo);al(eh.promo_code);D(eh.links_markup);L.isSettingsUpdating=false;ec()};var eb=function(){d8("init");if(ed()){d8("in first update we just start first timer and skip");ec();return}if(!ef()){d8("update is not not expired, skip");return}d8("start to update settings");d9()};am(function(){cH.roistatUpdateSettings=ea;setTimeout(function(){eb()},3000);d8("set interval to update settings");setInterval(function(){eb()},e)})})();(function bM(eb,e,ed){var ea={};var d8=function(ef){var ee=encodeURIComponent?encodeURIComponent:encodeURI;return ee(ef)};var d9=function(el,ef){bT("Reach goal start");if(!el){el={}}var ei={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:aA(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var eh in ei){if(!Object.prototype.hasOwnProperty.call(ei,eh)){continue}if(!Object.prototype.hasOwnProperty.call(el,eh)){continue}if(!el[eh]){continue}if(eh==="fields"||eh==="client_fields"||eh==="items"||eh==="placeholders_data"){el[eh]=JSON.stringify(el[eh])}ei[eh]=d8(el[eh])}var ek=dv();var ej=cN()+"//"+b6+"/api/site/"+d+"/"+ek+"/reach-goal?v=2";
for(var eg in ei){if(!Object.prototype.hasOwnProperty.call(ei,eg)){continue}ej=ej+"&"+eg+"="+ei[eg]}if(ef!==ed){var ee=Math.random().toString();ea[ee]=ef;ej+="&callback_key="+ee}da(ej,null,ef);bT("Reach goal completed")};var ec=eb.roistatGoal={reach:function(ef,ee){d9(ef,ee)},callAfterReachCallback:function(ee){if(Object.prototype.hasOwnProperty.call(ea,ee)){ea[ee]();delete ea[ee]}}}})(cH,cQ,dZ);(function ad(ea,e,eb){var d8=function(ed){if(ed instanceof Array||ed===null||typeof ed!=="object"){bT("Invalid event data");return""}return d9(ed)};var d9=function(ee,ei,eh){var eg=ei||0;var ed=eh||[];if(eg>20){bT("Recursion depth exceeded when processing additional event fields");return""}eg++;var el=[];for(var ek in ee){if(Object.prototype.hasOwnProperty.call(ee,ek)){var ej=ee[ek];if(typeof ej==="string"||typeof ej==="number"){var ef=ed.length>0?"["+ed.join("][")+"]":"";el.push("&data"+ef+"["+encodeURIComponent(ek)+"]="+encodeURIComponent(ej))}else{if(typeof ej==="object"){ed.push(encodeURIComponent(ek));el.push(d9(ej,eg,ed));ed.pop()}else{bT("Event data property ignored: "+ek)}}}}return el.length>0?el.join(""):""};var ec=function(ef,eh){bT("Send event start");var ed=dm();var eg=d8(eh);var ee=bW()+"/event/register?visit="+ed+"&event="+ef+eg;da(ee);bT("Send event completed")};ea.roistat.event={send:function(ed,ee){ec(ed,ee)}}})(cH,cQ,dZ);(function bt(eh,ej,ea){if(aJ()){bT("VisitApprove: Shut down because only online chat need to be inited");return}var ek=eh.roistatIsInitVisit===true?20000:10000;var d9=(new Date()).getTime();var d8=function(eo){return"approve_visit_"+eo};var eg=function(eo){dy.set(d8(eo),1)};var el=function(eo){return dy.get(d8(eo))>0};var e,ec,en=[];if(ej.addEventListener){e=function(ep,eo,eq){return ep.addEventListener(eo,eq,false)};ec=function(ep,eo,eq){return ep.removeEventListener(eo,eq,false)}}else{e=function(ep,eo,eq){return ep.attachEvent("on"+eo,eq)};ec=function(ep,eo,eq){return ep.detachEvent("on"+eo,eq)}}var ef=function(er){if(en.length>30){return}er=er||eh.event;if(!er||!er.screenX){return}var eq=(new Date()).getTime();var et,es=null;if(en.length>0){es=en[en.length-1]}if(es){et=eq-es.time}else{et=eq-d9}if(et<300){return}et=et-300;var ev=0;var eo=er.screenX;var eu=er.screenY;if(es){ev=parseInt(Math.sqrt(Math.pow(es.y-eu,2)+Math.pow(es.x-eo,2)))}var ep={time:eq,pauseBeforeMove:et,x:eo,y:eu,distance:ev};en.push(ep)};var ee=function(){var eo=[];d7(en,function(ep){var eq=[ep.pauseBeforeMove,ep.distance];eo.push(eq.join(":"))});if(eo.length===0){eo.push("0:0")}return eo.join("|")};var eb=function(){for(var eo in eh){if(bR(eo,"yaCounter")){return true}}return false};var ei=function(){ec(ej,"mousemove",ef);var eo=dm();bT("VisitApprove: start for visit "+eo);if(el(eo)){bT("VisitApprove: visit already approved, skip");return}eg(eo);cf();var ep=bW()+"/approve?v="+c2+"&visit="+eo;if(em()){ep+="&hash="+s()}if(ed()){ep+="&page_params="+encodeURIComponent(JSON.stringify(eh.roistat.page.params));a8()}ep+="&mv="+ee();ep+="&pl="+(eh.navigator?eh.navigator.platform:"");ep+="&ym="+(eb()?"1":"0");ep+="&wd="+(eh.navigator?(eh.navigator.webdriver===true?"1":"0"):"0");da(ep)};var em=function(){var es=L.cookies,er=bo();var eu=b8();for(var ep=0;ep<eu.length;ep++){var et=eu[ep];var ev=Object.prototype.hasOwnProperty.call(es,et)?es[et]:ea;var eo=Object.prototype.hasOwnProperty.call(er,et)?er[et]:ea;var eq=typeof eo==="string"&&eo.length>0;if(eq&&ev!==eo){return true}}return false};var ed=function(){var et=L.pageParams,eq=eh.roistat.page.params;for(var ep=0;ep<cn.length;ep++){var eo=cn[ep];var er=Object.prototype.hasOwnProperty.call(et,eo)?et[eo]:null;var es=Object.prototype.hasOwnProperty.call(eq,eo)?eq[eo]:null;if(es!==er){return true}}return false};setTimeout(function(){ei()},ek);e(ej,"mousemove",ef)})(cH,cQ,dZ);(function aF(ed,ee,d9){var eb=function(){return ct("roistat_ab_demo")==="1"};var ef=function(ei){return new RegExp(ei.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var ec=function(en){var ei=ed.location.href,el=en.filter,er=en.filterValue;var eo;switch(el){case"except":case"pages":var ej,eq,ep=false;eq=ei?aU(ei):"";eo=er?er.split("\n"):[];if(eq&&eo.length!==0){for(var ek=0;ek<eo.length;ek++){var em=eo[ek].trim();if(em.length===0){continue}ej=ef(em);if(ej.test(eq)){ep=true;break}}}return(el==="pages")?ep:!ep;break;case"all":default:return true}};var d8=function(ek){var ei=ee.getElementsByTagName("head")[0],ej;ej=ee.createElement("style");ej.setAttribute("type","text/css");if(ej.styleSheet){ej.styleSheet.cssText=ek.value}else{ej.innerText=ek.value}ei.appendChild(ej);bT("Applied css-test: "+ek.id)};var e=function(ei){if(Object.prototype.hasOwnProperty.call(dw.onAbTestsApplied,ei.id)){dw.onAbTestsApplied[ei.id](ei.value)}bT("Applied uniform-test: "+ei.id)};var ea=function(ei){if(ec(ei)){switch(ei.type){case"css":d8(ei);break;case"uniform":e(ei);break}}};ed.applyTests=function(){bT("Start applying ab tests");var ei=aW.getObject("abTesting");var ek,ej;for(ek in ei){if(!Object.prototype.hasOwnProperty.call(ei,ek)){continue
}ej=ei[ek];ea(ej)}L.isAbTestsApplied=true;bT("End applying ab tests");if(ed.onRoistatAbTestsApplied!==d9&&typeof ed.onRoistatAbTestsApplied==="function"){ed.onRoistatAbTestsApplied()}};var eg=function(){bT("Call: apply demo AB test");var ei=ct("roistat_ab_data");var ej;if(ei===null){return}else{ej=JSON.parse(be.decode(ei))}if(typeof ej!=="object"){bT("Error: testValue is not an object.");return}ea(ej)};function eh(){if(aJ()){bT("ABTest: Shut down because only online chat need to be inited");return}var ei=eb();if(!du&&!ei){applyTests()}if(ei){eg()}}eh()})(cH,cQ,dZ);(function bN(d8,e,d9){if(aW.get(d3)>0){bT("visitStream: disabled by settings");return}if(aJ()){bT("visitStream: Shut down because only online chat need to be inited");return}if(!aG){return}setTimeout(function(){(function(eg,ef,ej,ei,ed,eb,ee){eg[ed]={COUNTER_ID:eb,HOST:ee};var ec=ef.location.protocol=="https:"?"https://":"http://";var ea=ef.createElement(ej);ea.async=1;ea.src=ec+ee+ei;if(bc){a2("counter.js loading start");ea.onerror=function(){a2("counter.js loading error")};ea.onload=function(){a2("counter.js loaded");setTimeout(function(){a2("counter.js sendStreamView by timeout")},200);var ek=d8.history.pushState;d8.history.pushState=function(){a2("counter.js sendStreamView by pushState");return ek.apply(d8.history,arguments)};d8.addEventListener("popstate",function(){a2("counter.js sendStreamView by popstate")})}}var eh=ef.getElementsByTagName(ej)[0];eh.parentNode.insertBefore(ea,eh)})(d8,e,"script","/counter.js","datamap",dv(),aG)},1000)})(cH,cQ,dZ);(function V(d9,e,ea){var eb=function(){var ec=d9.roistatMetrikaCounterId;if(ec){aW.set(f,ec)}};var d8=function(eh){var ec="yaCounter"+eh;var eg=100,ee=0,ef=60000;var ed=function(){ee+=eg;bT("YandexMetrika: trying to access counter "+eh);if(d9[ec]===ea){if(ee<ef){setTimeout(ed,eg);eg*=2}return}var ei={};ei[T]=dm();d9[ec].params(ei);bT("YandexMetrika: visit id "+ei[T]+" sent to counter "+eh)};setTimeout(ed,eg)};am(function(){eb();var ee=aW.get(f);if(!ee){bT("YandexMetrika: counter id not found");return}var ed=String(ee).split(",");bT("YandexMetrika: counters: "+ed);for(var ec=0;ec<ed.length;ec++){if(ed[ec].trim()===""){continue}d8(ed[ec])}})})(cH,cQ,dZ);(function dj(eh,el){var ep=function(es){bT("Proxy Forms: "+es)};var ee=function(){if(eh.roistat.proxyForms.loaded&&eh.roistat.proxyForms.settings.length>0){ep("save loaded settings");em(eh.roistat.proxyForms.settings)}else{ep("settings not loaded, getting from storage");eh.roistat.proxyForms.settings=aW.getObject(dD)||[]}};var em=function(es){aW.setObject(dD,es)};var ei=function(){ep("init form listener");ea(eh.roistat.proxyForms.settings);e(eh.roistat.proxyForms.settings)};var er=function(es){return es.hasOwnProperty("hosts")&&es.hasOwnProperty("is_excluding_hosts")&&A(es.hosts)&&es.hosts.length>0};var ec=function(et){if(!er(et)){return true}var eu=b3(et.hosts,dU(eh.location.host));var es=Boolean(et.is_excluding_hosts);return es?!eu:eu};var d9=function(et){var es=[];d7(et,function(eu){if(ec(eu)){es.push(eu)}});return es};var e=function(es){var eu=[];d7(es,function(ev){if(ev.type==="js-button"){eu.push(ev)}});if(eu.length<1){ep("no button settings");return}var et;if(el.addEventListener){et=function(ev){ed(eu,ev,ev.target,eb)};el.addEventListener("click",et,true)}else{if(el.attachEvent){et=function(){var ev=eh.event;ed(eu,ev,ev.srcElement,eb,true)};el.attachEvent("onclick",et)}else{ep("Listener could not be attached")}}};var ea=function(et){var es=[];d7(et,function(ev){if(ev.type==="form"){es.push(ev)}});if(es.length<1){ep("no form settings");return}if(el.addEventListener){var eu=function(ev){ed(es,ev,ev.target,eq)};el.addEventListener("submit",eu,true)}else{if(el.attachEvent){setInterval(function(){es=d9(es);var ev=el.getElementsByTagName("form");d7(ev,function(ew){if(ew.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ew.setAttribute("data-roistat-proxy-form-checked","true");d7(es,function(ex){if(d8(ew,ex.selector)){ew.attachEvent("onsubmit",function(){eh.event.returnValue=false;eq(ex,eh.event.srcElement)})}})})},2000)}else{ep("Listener could not be attached")}}};var ed=function(ev,ew,ex,eu,es){var ey=d9(ev);var et=null;d7(ey,function(ez){if(d8(ex,ez.selector)){et=ez}});if(et===null){ep("No matched settings found for listener");return}eu(ew,et,ex,es)};var eq=function(ew,eu,ev,et){var es=ek(ev,eu);if(!en(es,eu)){return}et?ew.returnValue=false:ew.preventDefault();ef(es,eu,function(){HTMLFormElement.prototype.submit.call(ev)})};var eb=function(eu,et){var es=ek(null,et);if(!en(es,et)){return}ef(es,et)};var ef=function(es,ev,ex){var ew={};var eu=eg(ev.crm)&&ev.crm.hasOwnProperty("is_enabled");var et=eu?ev.crm.is_enabled:true;ew.leadName=ev.hasOwnProperty("lead_name")?ev.lead_name:"Новый лид с формы "+ev.title;ew.formTitle=ev.title;ew.name=es.name;ew.phone=es.phone;ew.email=es.email;ew.text=es.comment;ew.fields=es.fields;ew.placeholders_data=es.placeholdersData;ew.is_need_callback=ev.is_need_callback>0?1:0;ew.is_skip_sending=!et;eh.roistatGoal.reach(ew,ex)
};var eg=function(es){return(typeof es==="number"&&!isNaN(es))||(typeof es==="string"&&es!=="")||(typeof es==="object"&&es!==null)||(typeof es==="boolean"&&es)||A(es)};var en=function(es,eu){var et=[],ew=["name","email","phone","comment"];d7(ew,function(ex){if(eu.hasOwnProperty(ex)&&eu[ex].required>0){et.push(ex)}});if(A(eu.fields)){d7(eu.fields,function(ex){if(ex.required>0){et.push(ex)}})}var ev=true;d7(et,function(ex){if(!es.hasOwnProperty(ex)||!eg(es[ex])){ev=false}});return ev};var ek=function(eu,et){var es={};es.name=et.name?ej(eu,et.name.value,et.name.type):"";es.phone=et.phone?ej(eu,et.phone.value,et.phone.type):"";es.email=et.email?ej(eu,et.email.value,et.email.type):"";es.comment=et.comment?ej(eu,et.comment.value,et.comment.type):"";es.fields={};es.placeholdersData={orderPage:l};if(A(et.fields)){d7(et.fields,function(ev){es.fields[ev.name]=ej(eu,ev.value,ev.type)})}return es};var ej=function(et,ew,es){switch(es){case"plain":return ew||"";case"input":var ev=et.querySelector('input[name="'+ew+'"]');return ev?ev.value:"";case"js":try{return(new Function(ew))()}catch(eu){return""}}};var eo=function(){ep("init");if(aJ()){ep("Shut down because only online chat need to be inited");return}if(!eh.roistat.proxyForms.enabled){ep("disabled");return}ee();ei()};var d8=function(ev,et){if(typeof Element!=="undefined"&&Element.prototype.matches){var es=ev.matches(et);if(!es){return ev.closest(et)?ev.closest(et).matches(et):false}return es}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ew=ev.matchesSelector(et);if(!ew){return ev.closest(et)?ev.closest(et).matches(et):false}return ew}else{if(el.querySelectorAll){var ex=el.querySelectorAll(et);for(var eu=0;eu<ex.length;eu++){if(ex[eu]===ev){return true}}return false}}}return false};am(eo);eh.roistatSaveProxyFormSettings=em})(cH,cQ);(function S(){if(cH.onRoistatAllModulesLoaded!==dZ&&typeof cH.onRoistatAllModulesLoaded==="function"){bT("onRoistatAllModulesLoaded: call");cH.onRoistatAllModulesLoaded()}})();(function C(ee,eh,eb){var e=function(){return aW.get(d6)*1>0};var eg=function(en){bT("Request listener: "+en)};var em=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var ef=/^[^\s]+[@][^\s]+$/g;var ea=["mc.yandex.ru"];var d9=function d9(){eg("listen");if(ee.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ep(es){var er=this;ei(er.responseURL,es,function(){er.oldSend(es)})}XMLHttpRequest.prototype.send=ep}if(ee.ActiveXObject){var eo=eq;function eq(et){var er=new eo(et);var eu={};if(et.toLowerCase()==="msxml2.xmlhttp"){eu={_ax:er,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var es="";eu._onReadyStateChange=function(){var ev=eu;return function(){ev.readyState=ev._ax.readyState;if(ev.readyState===4){ev.responseText=ev._ax.responseText;ev.responseXml=ev._ax.responseXml;ev.status=ev._ax.status;ev.statusText=ev._ax.statusText}if(ev.onReadyStateChange){ev.onReadyStateChange()}}}();eu.open=function(ez,ex,ey,ev,ew){es=ex;ey=(ey!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ez,ex,ey,ev,ew)};eu.send=function(ev){var ew=this;ei(es,ev,function(){this._ax.send(ev)})}}else{eu=er}return eu}ee.ActiveXObject=eq}if(ee.fetch){var en=fetch;fetch=function(er,es){ei(er.url,es||{});return en(er,es||{})}}ee.addEventListener("submit",function(eu){var ew=eu.target.elements;var ev={};for(var et=0;et<ew.length;et++){var es=ew[et];var er=es.getAttribute("name");ev[er]=es.value}ei("",ev)})};function ec(en){var eq={};if(typeof en!=="string"||en.length===0){return eq}var ep=en.split("?");if(ep.length<2){return eq}var eo=ep[1];eq=d8(eo);return eq}function d8(eo){var ep=eo.split("&"),er={};for(var en=0;en<ep.length;en++){var eq=ep[en].split("=");if(eq.length<2){continue}er[eq[0]]=eq[1]}return er}function ek(eE){eg("data: "+JSON.stringify(eE));if(typeof eE!=="object"||eE===null){return{}}var ex={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var eu={email:"",phone:"",name:""};for(var en in ex){var eA=ex[en];for(var ez in eA){if(eA.hasOwnProperty(ez)){if(eE.hasOwnProperty(eA[ez])){eu[en]=eE[eA[ez]];break}}}}eg("new data: "+JSON.stringify(eu));var ep=eu.phone.length===0;var et=eu.email.length===0;if(!ep&&!et){return eu}var eo=new RegExp(ef);var es=new RegExp(em);var ev=Object.keys(eE);for(var eB=0;eB<ev.length;eB++){var ey=decodeURIComponent(String(eE[ev[eB]]));if(et){var eq=ey.match(eo);if(eq&&eq.length>0){var ew=eu.email;eu.email=eq[0];eg("parsing email, before: "+ew+", after: "+eu.email)}}if(ep){var eD=ey.replace(/[\s-.()+*_—:;'"`]/g,"");var eC=eD.match(es);if(eC&&eC.length>0){var er=eu.phone;eu.phone=ey;eg("parsing phone, before: "+er+", after: "+eu.phone)}}}return eu}var ed=function(en){var eo=dU(en);return !ax(ea,eo)};function ei(ep,eo,en){if(typeof ep==="string"&&ep.length>0&&!ed(ep)){return
}var er=ec(ep);var et=eo;if(typeof et==="string"){et=d8(et)}eg("data before parsing "+JSON.stringify({get:er,post:et}));var es=ek(er);var eq=ek(et);eg("data after parsing "+JSON.stringify({get:es,post:eq}));ej(es,eq,en)}function ej(en,ep,et){var es=en.email.length>0?en.email:ep.email;var eo=en.phone.length>0?en.phone:ep.phone;var er=en.name.length>0?en.name:ep.name;if((typeof es!=="string"||es.length===0)&&(typeof eo!=="string"||eo.length===0)){if(typeof et==="function"){et()}return}if(typeof et==="function"){setTimeout(function(){et()},100)}var eq={leadName:"Автоматический лид с сайта",name:er,phone:eo,email:es,is_skip_sending:1};eg("phone or email is not empty, reaching goal "+JSON.stringify(eq));roistatGoal.reach(eq)}(function el(){if(!e()){eg("disabled, skip");return}d9()})()})(cH,cQ,dZ);(function ba(ed,ee,d8){var e=false;var d9=false;var ef=[{url:"ozon.ru",isValid:function(){return eb()&&e},tag:function(){return eb()?"vendor_org_"+encodeURIComponent(ed.roistat.linksMarkup.ozonId):""}},{url:"wildberries.ru",isValid:function(){return eb()&&d9},tag:function(){return eb()?encodeURIComponent(ed.roistat.linksMarkup.wildberriesId)+"-id-my_ad_campaign":""}}];var ec=function(eg){bT("Links markup: "+eg)};var eb=function(){return typeof ed.roistat==="object"&&ed.roistat!==null&&typeof ed.roistat.linksMarkup==="object"&&ed.roistat.linksMarkup!==null};var ea=function(ei){var eh={};var eg=ei.charAt(0)==="?"?ei.slice(1):ei;eg.split("&").forEach(function(ej){var [key,ek]=ej.split("=").map(bP);if(key.trim()===""||ek.trim()===""){return}eh[key]=ek});return eh};var getUrlTags=function(){var em=["utm_campaign","utm_source","utm_medium","utm_term","utm_content","roistat"];var eo={};ec("get url tags");var en=ea(ed.location.search);Object.keys(en).forEach(function(ep){if(em.indexOf(ep)!==-1){eo[ep]=en[ep]}});return eo};var getLinksByUrl=function(){var en=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);var em=ee.querySelectorAll("a");var eo={};ec("get integration links");em.forEach(function(ep){var er=ep.href;if(en.test(er)){var eq=dU(er);ef.forEach(function(es){if(es.isValid()&&eq.indexOf(es.url)===0&&er.indexOf(es.tag())===-1){if(typeof eo[es.url]==="undefined"){eo[es.url]=[]}eo[es.url].push(ep)}})}});return eo};var addTagsToLinks=function(ep,eo){var em="utm_campaign";ec("remove utm_campaign from tags");delete eo[em];var en=Object.keys(eo).map(function(eq){return encodeURIComponent(eq)+"="+encodeURIComponent(eo[eq])}).join("&");if(en.length>0){en="&"+en}ec("prepared tags for link without utm_campaign: "+en);ef.forEach(function(er){if(typeof ep[er.url]==="undefined"){return}ec("add tags for: "+er.url);var es=em+"="+er.tag();var eq=es+en;ep[er.url].forEach(function(et){var ev=et.href.split("#");var eu=ev[0].split("?");eu[1]=eu.length===2&&eu[1]!==""?eu[1]+"&"+eq:eq;ev[0]=eu.join("?");et.href=ev.join("#")})})};var processLinksMarkup=function(){ec("try to find tags and integration urls");var em=getUrlTags();if(Object.keys(em).length===0){ec("no tags in url, skip");return}var en=getLinksByUrl();if(Object.keys(en).length===0){ec("no links found, skip");return}addTagsToLinks(en,em);ec("tags added, done")};var bI=function(){ec("init");var em=aW.getObject(bm);if(em&&em.hasOwnProperty("id_ozon")&&em.hasOwnProperty("id_wildberries")){ed.roistat.linksMarkup.ozonId=em.id_ozon;ed.roistat.linksMarkup.wildberriesId=em.id_wildberries;ec("set settings from storage")}else{ec("disabled, skip.");return}e=typeof ed.roistat.linksMarkup.ozonId==="string"&&ed.roistat.linksMarkup.ozonId.trim()!=="";d9=typeof ed.roistat.linksMarkup.wildberriesId==="string"&&ed.roistat.linksMarkup.wildberriesId.trim()!=="";if(e||d9){processLinksMarkup();setTimeout(function(){processLinksMarkup()},300);setTimeout(function(){processLinksMarkup()},5000);setTimeout(function(){processLinksMarkup()},15000)}else{ec("settings are empty, skip.")}};am(bI);db(bI)})(cH,cQ,dZ)})(window,document,undefined);
